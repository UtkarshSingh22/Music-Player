(()=>{"use strict";const e=[{name:"On & On",artist:"Cartoon x Havsun x Wayout, ft. Daniel Levi",imageSrc:"/dist/song-images/on&on.jpg",songSrc:"/dist/sample-songs/Cartoon - On & On (ft. Daniel Levi)(Cartoon x HAVSUN x WAYOUT Remix) [NCS Release].mp3",duration:"03:58"},{name:"Mortals",artist:"Warriyo, feat. Laura Brehm",imageSrc:"/dist/song-images/warriyo.jpg",songSrc:"/dist/sample-songs/Warriyo - Mortals (feat. Laura Brehm) [NCS Release].mp3",duration:"03:48"},{name:"Cradles",artist:"Sub Urban",imageSrc:"/dist/song-images/cradles.jpg",songSrc:"/dist/sample-songs/Sub Urban - Cradles [NCS Release].mp3",duration:"03:29"},{name:"Adventures",artist:"William Ekh, feat. Alexa Lusader",imageSrc:"/dist/song-images/adventures.jpg",songSrc:"/dist/sample-songs/William Ekh - Adventures (feat. Alexa Lusader) [NCS Release].mp3",duration:"03:11"},{name:"Set Me Free",artist:"Simbai & Frizzy The Streetz",imageSrc:"/dist/song-images/setmefree.jpg",songSrc:"/dist/sample-songs/Simbai & Frizzy The Streetz - Set Me Free [NCS Release].mp3",duration:"02:49"},{name:"Heroes Tonight",artist:"Janji, ft.Johnning",imageSrc:"/dist/song-images/janji.jpg",songSrc:"/dist/sample-songs/Janji - Heroes Tonight (feat. Johnning) [NCS Release].mp3",duration:"03:28"}],t=(e,t,n)=>{const s=document.createElement("img");s.classList.add("card-img"),s.src=e;const a=document.createElement("div");a.classList="musicBox";const c=document.createElement("div");c.classList.add("music-name"),c.textContent=t;const r=document.createElement("div");r.classList.add("artist-name"),r.textContent=n,a.appendChild(c),a.appendChild(r);const i=document.createElement("div");return i.classList.add("cards"),i.appendChild(s),i.appendChild(a),i},n=t=>{const n=document.querySelector(".main");"songData"==n.lastChild.className&&n.removeChild(n.lastChild),n.appendChild((t=>{const n=document.createElement("div");n.classList="songData";const s=document.createElement("img");s.classList="mainImg",s.setAttribute("src",e[t].imageSrc);const a=document.createElement("div");a.classList="songName",a.textContent=e[t].name;const c=document.createElement("div");return c.classList="artist",c.textContent=e[t].artist,n.appendChild(s),n.appendChild(a),n.appendChild(c),n})(t))},s=t=>{let s=document.querySelector(".audioElement"),a=document.querySelector(".playBtn"),c=document.querySelector(".playBtnImg");const r=document.querySelector(".volume");let i=document.querySelector(".currTime");const o=document.querySelector(".totalTime"),d=document.querySelector(".music-gif");s.setAttribute("src",e[t].songSrc),c.src="/dist/icons/pause-svgrepo-com.svg";let l=s.play();void 0!==l&&l.then((()=>{s.play()})).catch((e=>{})),d.setAttribute("src","/dist/icons/Music.gif"),a.addEventListener("click",(()=>{s.paused?(s.play(),c.src="/dist/icons/pause-svgrepo-com.svg",d.style.opacity="1"):(s.pause(),c.src="/dist/icons/play-svgrepo-com.svg",d.style.opacity="0")}));const m=document.querySelector(".musicBar");s.addEventListener("timeupdate",(()=>{if(s.currentTime==s.duration){t==e.length-1?t=0:t++,n(t),s.setAttribute("src",e[t].songSrc);let a=s.play();void 0!==a&&a.then((()=>{s.play()})).catch((e=>{}))}let a=s.currentTime/s.duration*100;m.value=a;let c=Math.floor(s.currentTime/60),r=Math.floor(s.currentTime%60),d="",l="";c/10==0&&(d="0"),0==Math.floor(r/10)&&(l="0"),i.textContent=d+c+":"+l+r;let u=Math.floor(s.duration/60),p=Math.floor(s.duration%60),g="",h="";u/10==0&&(g="0"),0==Math.floor(p/10)&&(h="0"),0==Number.isNaN(u)?o.textContent=g+u+":"+h+p:o.textContent="00:00"})),m.addEventListener("click",(e=>{s.currentTime=e.offsetX/e.srcElement.clientWidth*s.duration}));const u=document.querySelector(".prevBtn");document.querySelector(".nextBtn").addEventListener("click",(()=>{s.paused&&(c.src="/dist/icons/pause-svgrepo-com.svg"),t==e.length-1?t=0:t++,n(t),s.setAttribute("src",e[t].songSrc);let a=s.play();void 0!==a&&a.then((()=>{s.play()})).catch((e=>{}))})),u.addEventListener("click",(()=>{s.paused&&(c.src="/dist/icons/pause-svgrepo-com.svg"),0==t?t=e.length-1:t--,n(t),s.setAttribute("src",e[t].songSrc);let a=s.play();void 0!==a&&a.then((()=>{s.play()})).catch((e=>{}))})),r.addEventListener("click",(e=>{s.volume=e.offsetX/e.srcElement.clientWidth}))},a=()=>{const c=document.querySelector(".main");for(;c.hasChildNodes();)c.removeChild(c.firstChild);const r=(()=>{const e=document.createElement("div");return e.classList="songCards",e})();let i=3;for(;i<6;){const n=e[i].imageSrc,s=e[i].name,a=e[i].artist,c=t(n,s,a);r.appendChild(c),i++}const o=(e=>{const t=document.createElement("img");return t.setAttribute("class","content-img"),t.src="/dist/Illustrations/rockstar.svg",t})(),d=(()=>{const e=document.createElement("div");return e.classList="mediaPlayer",e.appendChild((()=>{let e=document.createElement("audio");return e.classList="audioElement",e.src="",e})()),e.appendChild((()=>{const e=document.createElement("div");e.classList="songDetail";const t=document.createElement("img"),n=document.createElement("div");let s=document.createElement("div"),a=document.createElement("div");return s.classList="currTime",a.classList="totalTime",t.classList="music-gif",n.classList="duration",n.appendChild(s),n.appendChild(a),t.src="",e.appendChild(t),e.appendChild(n),e})()),e.appendChild((()=>{const e=document.createElement("input");return e.setAttribute("type","range"),e.classList="musicBar",e.value=0,e})()),e.appendChild((()=>{const e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div"),s=document.createElement("div"),a=document.createElement("img"),c=document.createElement("input");c.value=100;const r=document.createElement("img"),i=document.createElement("img"),o=document.createElement("img");return r.src="/dist/icons/back-return-svgrepo-com.svg",i.src="/dist/icons/next-svgrepo-com.svg",o.src="",o.classList.add("playBtnImg","control-img"),i.classList.add("nextBtnImg","control-img"),r.classList.add("prevBtnImg","control-img"),t.classList.add("prevBtn","controlBtn"),s.classList.add("playBtn","controlBtn"),n.classList.add("nextBtn","controlBtn"),t.appendChild(r),s.appendChild(o),n.appendChild(i),a.classList="volImg",a.src="/dist/icons/volume-svgrepo-com (3).svg",c.setAttribute("type","range"),c.classList="volume",e.classList="controls",e.appendChild(t),e.appendChild(s),e.appendChild(n),e.appendChild(a),e.appendChild(c),e})()),e})();c.appendChild(o),c.appendChild(r),c.appendChild(d),document.querySelector(".songCards").addEventListener("click",(t=>{if("cards"==t.target.parentElement.className){const c=t.target.parentElement.children[1].children[0].textContent;let r;for(let t=0;t<e.length;t++)e[t].name==c&&(r=t);a(),n(r),s(r)}}))},c=t=>{if("cards"==t.target.parentElement.className){const c=t.target.parentElement.children[1].children[0].textContent;let r;for(let t=0;t<e.length;t++)e[t].name==c&&(r=t);a(),n(r),s(r)}},r=()=>{document.querySelector(".music-cards").addEventListener("click",c),(()=>{const t=document.querySelector(".search-bar");let c=document.querySelector(".results");const r=document.querySelector(".searchBox");t.addEventListener("focus",(()=>{})),t.addEventListener("input",(t=>{let i=t.target.value;if(i=i.toLowerCase(),""==i){for(;c.firstChild;)c.removeChild(c.firstChild);return}for(;c.firstChild;)c.removeChild(c.firstChild);for(let t=0;t<e.length;t++){let n=e[t].name;if(n=n.toLowerCase(),n.includes(i)){let n=document.createElement("div");n.classList="matchedStr";let s=document.createElement("div");s.classList="inputName";let a=document.createElement("div");a.classList="inputArtist",s.textContent=e[t].name,a.textContent=e[t].artist,n.appendChild(s),n.appendChild(a),c.appendChild(n),r.appendChild(c)}}let o=document.querySelectorAll(".matchedStr");for(let t=0;t<o.length;t++)o[t].addEventListener("click",(()=>{let c;for(let n=0;n<e.length;n++)o[t].firstChild.textContent==e[n].name&&(c=n);a(),n(c),s(c)}))}))})()},i=()=>{const n=document.querySelector(".main");for(;n.hasChildNodes();)n.removeChild(n.firstChild);const s=(()=>{const e=document.createElement("div");return e.classList="music-cards",e})();let a=0;for(;a<6;){const n=e[a].imageSrc,c=e[a].name,r=e[a].artist,i=t(n,c,r);s.appendChild(i),a++}const c=(()=>{const e=document.createElement("div");return e.classList="list-of-songs",e})();c.appendChild(s);const i=(()=>{const e=document.createElement("div");return e.setAttribute("class","content-data"),e.textContent="Get ready to enjoy the experience!",e})(),o=(()=>{const e=document.createElement("div");e.classList="searchBox";const t=document.createElement("input");t.setAttribute("type","search"),t.classList="search-bar";const n=document.createElement("div");n.classList="results";const s=document.createElement("img");return s.classList="searchIcon",s.src="/dist/icons/color-lineal-magnifying-glass-svgrepo-com.svg",e.appendChild(s),e.appendChild(t),e.appendChild(n),e})();n.appendChild(i),n.appendChild(o),n.appendChild(c),r()};(()=>{i();const e=document.querySelector(".home-btn"),t=document.querySelector(".music-list-btn");e.addEventListener("click",i),t.addEventListener("click",a)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WXBDLGlCQUFpQixRQUFTLElDVDFDLEkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tdXNpYy1wbGF5ZXIvLi9zcmMvbW9kdWxlcy9Tb25nc0xpc3Qvc29uZ3NEYXRhLmpzIiwid2VicGFjazovL211c2ljLXBsYXllci8uL3NyYy9tb2R1bGVzL0Z1bmN0aW9uYWxpdGllcy9tYWtlTXVzaWNDYXJkcy5qcyIsIndlYnBhY2s6Ly9tdXNpYy1wbGF5ZXIvLi9zcmMvbW9kdWxlcy9GdW5jdGlvbmFsaXRpZXMvYnVpbGRDdXJyZW50TXVzaWNDYXJkLmpzIiwid2VicGFjazovL211c2ljLXBsYXllci8uL3NyYy9tb2R1bGVzL0Z1bmN0aW9uYWxpdGllcy9wbGF5TXVzaWMuanMiLCJ3ZWJwYWNrOi8vbXVzaWMtcGxheWVyLy4vc3JjL21vZHVsZXMvbXVzaWNQYWdlLmpzIiwid2VicGFjazovL211c2ljLXBsYXllci8uL3NyYy9tb2R1bGVzL0Z1bmN0aW9uYWxpdGllcy9idWlsZE11c2ljUGxheWVyLmpzIiwid2VicGFjazovL211c2ljLXBsYXllci8uL3NyYy9tb2R1bGVzL1VzZXIgSW50ZXJmYWNlL211c2ljUGFnZVVJLmpzIiwid2VicGFjazovL211c2ljLXBsYXllci8uL3NyYy9tb2R1bGVzL1VzZXIgSW50ZXJmYWNlL2hvbWVVSS5qcyIsIndlYnBhY2s6Ly9tdXNpYy1wbGF5ZXIvLi9zcmMvbW9kdWxlcy9GdW5jdGlvbmFsaXRpZXMvc2VhcmNoQmFyLmpzIiwid2VicGFjazovL211c2ljLXBsYXllci8uL3NyYy9tb2R1bGVzL2hvbWUuanMiLCJ3ZWJwYWNrOi8vbXVzaWMtcGxheWVyLy4vc3JjL21vZHVsZXMvd2VicGFnZS5qcyIsIndlYnBhY2s6Ly9tdXNpYy1wbGF5ZXIvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgc29uZ0xpc3QgPSBbXG4gICAge1xuICAgICAgICBuYW1lOiBcIk9uICYgT25cIixcbiAgICAgICAgYXJ0aXN0OiBcIkNhcnRvb24geCBIYXZzdW4geCBXYXlvdXQsIGZ0LiBEYW5pZWwgTGV2aVwiLFxuICAgICAgICBpbWFnZVNyYzogXCIvZGlzdC9zb25nLWltYWdlcy9vbiZvbi5qcGdcIixcbiAgICAgICAgc29uZ1NyYzpcbiAgICAgICAgICAgIFwiL2Rpc3Qvc2FtcGxlLXNvbmdzL0NhcnRvb24gLSBPbiAmIE9uIChmdC4gRGFuaWVsIExldmkpKENhcnRvb24geCBIQVZTVU4geCBXQVlPVVQgUmVtaXgpIFtOQ1MgUmVsZWFzZV0ubXAzXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcIjAzOjU4XCIsXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6IFwiTW9ydGFsc1wiLFxuICAgICAgICBhcnRpc3Q6IFwiV2Fycml5bywgZmVhdC4gTGF1cmEgQnJlaG1cIixcbiAgICAgICAgaW1hZ2VTcmM6IFwiL2Rpc3Qvc29uZy1pbWFnZXMvd2Fycml5by5qcGdcIixcbiAgICAgICAgc29uZ1NyYzpcbiAgICAgICAgICAgIFwiL2Rpc3Qvc2FtcGxlLXNvbmdzL1dhcnJpeW8gLSBNb3J0YWxzIChmZWF0LiBMYXVyYSBCcmVobSkgW05DUyBSZWxlYXNlXS5tcDNcIixcbiAgICAgICAgZHVyYXRpb246IFwiMDM6NDhcIixcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogXCJDcmFkbGVzXCIsXG4gICAgICAgIGFydGlzdDogXCJTdWIgVXJiYW5cIixcbiAgICAgICAgaW1hZ2VTcmM6IFwiL2Rpc3Qvc29uZy1pbWFnZXMvY3JhZGxlcy5qcGdcIixcbiAgICAgICAgc29uZ1NyYzogXCIvZGlzdC9zYW1wbGUtc29uZ3MvU3ViIFVyYmFuIC0gQ3JhZGxlcyBbTkNTIFJlbGVhc2VdLm1wM1wiLFxuICAgICAgICBkdXJhdGlvbjogXCIwMzoyOVwiLFxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiBcIkFkdmVudHVyZXNcIixcbiAgICAgICAgYXJ0aXN0OiBcIldpbGxpYW0gRWtoLCBmZWF0LiBBbGV4YSBMdXNhZGVyXCIsXG4gICAgICAgIGltYWdlU3JjOiBcIi9kaXN0L3NvbmctaW1hZ2VzL2FkdmVudHVyZXMuanBnXCIsXG4gICAgICAgIHNvbmdTcmM6XG4gICAgICAgICAgICBcIi9kaXN0L3NhbXBsZS1zb25ncy9XaWxsaWFtIEVraCAtIEFkdmVudHVyZXMgKGZlYXQuIEFsZXhhIEx1c2FkZXIpIFtOQ1MgUmVsZWFzZV0ubXAzXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcIjAzOjExXCIsXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6IFwiU2V0IE1lIEZyZWVcIixcbiAgICAgICAgYXJ0aXN0OiBcIlNpbWJhaSAmIEZyaXp6eSBUaGUgU3RyZWV0elwiLFxuICAgICAgICBpbWFnZVNyYzogXCIvZGlzdC9zb25nLWltYWdlcy9zZXRtZWZyZWUuanBnXCIsXG4gICAgICAgIHNvbmdTcmM6XG4gICAgICAgICAgICBcIi9kaXN0L3NhbXBsZS1zb25ncy9TaW1iYWkgJiBGcml6enkgVGhlIFN0cmVldHogLSBTZXQgTWUgRnJlZSBbTkNTIFJlbGVhc2VdLm1wM1wiLFxuICAgICAgICBkdXJhdGlvbjogXCIwMjo0OVwiLFxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiBcIkhlcm9lcyBUb25pZ2h0XCIsXG4gICAgICAgIGFydGlzdDogXCJKYW5qaSwgZnQuSm9obm5pbmdcIixcbiAgICAgICAgaW1hZ2VTcmM6IFwiL2Rpc3Qvc29uZy1pbWFnZXMvamFuamkuanBnXCIsXG4gICAgICAgIHNvbmdTcmM6XG4gICAgICAgICAgICBcIi9kaXN0L3NhbXBsZS1zb25ncy9KYW5qaSAtIEhlcm9lcyBUb25pZ2h0IChmZWF0LiBKb2hubmluZykgW05DUyBSZWxlYXNlXS5tcDNcIixcbiAgICAgICAgZHVyYXRpb246IFwiMDM6MjhcIixcbiAgICB9LFxuXTtcblxuZXhwb3J0IGRlZmF1bHQgc29uZ0xpc3Q7XG4iLCJjb25zdCBtYWtlTXVzaWNDYXJkcyA9IChzb3VyY2UsIG5hbWUsIGFydGlzdCkgPT4ge1xuICAgIGNvbnN0IHNvbmdJbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgIHNvbmdJbWcuY2xhc3NMaXN0LmFkZChcImNhcmQtaW1nXCIpO1xuICAgIHNvbmdJbWcuc3JjID0gc291cmNlO1xuXG4gICAgY29uc3QgYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBib3guY2xhc3NMaXN0ID0gXCJtdXNpY0JveFwiO1xuXG4gICAgY29uc3Qgc29uZ05hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHNvbmdOYW1lLmNsYXNzTGlzdC5hZGQoXCJtdXNpYy1uYW1lXCIpO1xuICAgIHNvbmdOYW1lLnRleHRDb250ZW50ID0gbmFtZTtcblxuICAgIGNvbnN0IGFydGlzdE5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGFydGlzdE5hbWUuY2xhc3NMaXN0LmFkZChcImFydGlzdC1uYW1lXCIpO1xuICAgIGFydGlzdE5hbWUudGV4dENvbnRlbnQgPSBhcnRpc3Q7XG5cbiAgICBib3guYXBwZW5kQ2hpbGQoc29uZ05hbWUpO1xuICAgIGJveC5hcHBlbmRDaGlsZChhcnRpc3ROYW1lKTtcblxuICAgIGNvbnN0IG1haW5DYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBtYWluQ2FyZC5jbGFzc0xpc3QuYWRkKFwiY2FyZHNcIik7XG5cbiAgICBtYWluQ2FyZC5hcHBlbmRDaGlsZChzb25nSW1nKTtcbiAgICBtYWluQ2FyZC5hcHBlbmRDaGlsZChib3gpO1xuXG4gICAgcmV0dXJuIG1haW5DYXJkO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgbWFrZU11c2ljQ2FyZHM7XG4iLCJpbXBvcnQgc29uZ0xpc3QgZnJvbSBcIi4uL1NvbmdzTGlzdC9zb25nc0RhdGFcIjtcblxuY29uc3QgYnVpbGRTb25nSW5mbyA9IChpbmRleCkgPT4ge1xuICAgIGNvbnN0IGRhdGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGRhdGEuY2xhc3NMaXN0ID0gXCJzb25nRGF0YVwiO1xuXG4gICAgY29uc3Qgc29uZ0ltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgc29uZ0ltZy5jbGFzc0xpc3QgPSBcIm1haW5JbWdcIjtcbiAgICBzb25nSW1nLnNldEF0dHJpYnV0ZShcInNyY1wiLCBzb25nTGlzdFtpbmRleF0uaW1hZ2VTcmMpO1xuXG4gICAgY29uc3Qgc29uZ05hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHNvbmdOYW1lLmNsYXNzTGlzdCA9IFwic29uZ05hbWVcIjtcbiAgICBzb25nTmFtZS50ZXh0Q29udGVudCA9IHNvbmdMaXN0W2luZGV4XS5uYW1lO1xuXG4gICAgY29uc3Qgc29uZ1dyaXRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgc29uZ1dyaXRlci5jbGFzc0xpc3QgPSBcImFydGlzdFwiO1xuICAgIHNvbmdXcml0ZXIudGV4dENvbnRlbnQgPSBzb25nTGlzdFtpbmRleF0uYXJ0aXN0O1xuXG4gICAgZGF0YS5hcHBlbmRDaGlsZChzb25nSW1nKTtcbiAgICBkYXRhLmFwcGVuZENoaWxkKHNvbmdOYW1lKTtcbiAgICBkYXRhLmFwcGVuZENoaWxkKHNvbmdXcml0ZXIpO1xuXG4gICAgcmV0dXJuIGRhdGE7XG59O1xuXG5jb25zdCBnZXRTb25nRGV0YWlscyA9IChpbmRleCkgPT4ge1xuICAgIGNvbnN0IG1haW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1haW5cIik7XG5cbiAgICBpZiAobWFpbi5sYXN0Q2hpbGQuY2xhc3NOYW1lID09IFwic29uZ0RhdGFcIikge1xuICAgICAgICBtYWluLnJlbW92ZUNoaWxkKG1haW4ubGFzdENoaWxkKTtcbiAgICB9XG4gICAgbWFpbi5hcHBlbmRDaGlsZChidWlsZFNvbmdJbmZvKGluZGV4KSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBnZXRTb25nRGV0YWlscztcbiIsImltcG9ydCBzb25nTGlzdCBmcm9tIFwiLi4vU29uZ3NMaXN0L3NvbmdzRGF0YVwiO1xuaW1wb3J0IGdldFNvbmdEZXRhaWxzIGZyb20gXCIuL2J1aWxkQ3VycmVudE11c2ljQ2FyZFwiO1xuXG5jb25zdCBhZGRDb250cm9sc0Z1bmN0aW9uYWxpdHkgPSAoaW5kZXgpID0+IHtcbiAgICBsZXQgY3VycmVudFNvbmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmF1ZGlvRWxlbWVudFwiKTtcbiAgICBsZXQgcGxheUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxheUJ0blwiKTtcbiAgICBsZXQgcGxheUJ0bkltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxheUJ0bkltZ1wiKTtcbiAgICBjb25zdCB2b2wgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnZvbHVtZVwiKTtcbiAgICBsZXQgY3VyclRpbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmN1cnJUaW1lXCIpO1xuICAgIGNvbnN0IHRvdGFsVGltZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG90YWxUaW1lXCIpO1xuICAgIGNvbnN0IG11c2ljR2lmID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tdXNpYy1naWZcIik7XG5cbiAgICBjdXJyZW50U29uZy5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgc29uZ0xpc3RbaW5kZXhdLnNvbmdTcmMpO1xuICAgIHBsYXlCdG5JbWcuc3JjID0gXCIvZGlzdC9pY29ucy9wYXVzZS1zdmdyZXBvLWNvbS5zdmdcIjtcblxuICAgIGxldCBwbGF5UHJvbWlzZSA9IGN1cnJlbnRTb25nLnBsYXkoKTtcblxuICAgIGlmIChwbGF5UHJvbWlzZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHBsYXlQcm9taXNlXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgY3VycmVudFNvbmcucGxheSgpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHt9KTtcbiAgICB9XG5cbiAgICBtdXNpY0dpZi5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgXCIvZGlzdC9pY29ucy9NdXNpYy5naWZcIik7XG5cbiAgICBwbGF5QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIGlmIChjdXJyZW50U29uZy5wYXVzZWQpIHtcbiAgICAgICAgICAgIGN1cnJlbnRTb25nLnBsYXkoKTtcbiAgICAgICAgICAgIHBsYXlCdG5JbWcuc3JjID0gXCIvZGlzdC9pY29ucy9wYXVzZS1zdmdyZXBvLWNvbS5zdmdcIjtcbiAgICAgICAgICAgIG11c2ljR2lmLnN0eWxlLm9wYWNpdHkgPSBcIjFcIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGN1cnJlbnRTb25nLnBhdXNlKCk7XG4gICAgICAgICAgICBwbGF5QnRuSW1nLnNyYyA9IFwiL2Rpc3QvaWNvbnMvcGxheS1zdmdyZXBvLWNvbS5zdmdcIjtcbiAgICAgICAgICAgIG11c2ljR2lmLnN0eWxlLm9wYWNpdHkgPSBcIjBcIjtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29uc3QgbXVzaWNCYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm11c2ljQmFyXCIpO1xuXG4gICAgY3VycmVudFNvbmcuYWRkRXZlbnRMaXN0ZW5lcihcInRpbWV1cGRhdGVcIiwgKCkgPT4ge1xuICAgICAgICAvL2dldCB2YWx1ZSBpbiBwZXJjZW50XG4gICAgICAgIGlmIChjdXJyZW50U29uZy5jdXJyZW50VGltZSA9PSBjdXJyZW50U29uZy5kdXJhdGlvbikge1xuICAgICAgICAgICAgaWYgKGluZGV4ID09IHNvbmdMaXN0Lmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICBpbmRleCA9IDA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnZXRTb25nRGV0YWlscyhpbmRleCk7XG4gICAgICAgICAgICBjdXJyZW50U29uZy5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgc29uZ0xpc3RbaW5kZXhdLnNvbmdTcmMpO1xuXG4gICAgICAgICAgICBsZXQgcGxheVByb21pc2UgPSBjdXJyZW50U29uZy5wbGF5KCk7XG5cbiAgICAgICAgICAgIGlmIChwbGF5UHJvbWlzZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcGxheVByb21pc2VcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFNvbmcucGxheSgpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7fSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHNvbmdQcm9ncmVzcyA9XG4gICAgICAgICAgICAoY3VycmVudFNvbmcuY3VycmVudFRpbWUgLyBjdXJyZW50U29uZy5kdXJhdGlvbikgKiAxMDA7XG5cbiAgICAgICAgbXVzaWNCYXIudmFsdWUgPSBzb25nUHJvZ3Jlc3M7XG5cbiAgICAgICAgbGV0IHRpbWVJbk1pbnMgPSBNYXRoLmZsb29yKGN1cnJlbnRTb25nLmN1cnJlbnRUaW1lIC8gNjApO1xuICAgICAgICBsZXQgdGltZUluU2VjID0gTWF0aC5mbG9vcihjdXJyZW50U29uZy5jdXJyZW50VGltZSAlIDYwKTtcblxuICAgICAgICBsZXQgYmVmTWluID0gXCJcIixcbiAgICAgICAgICAgIGJlZlNlYyA9IFwiXCI7XG4gICAgICAgIGlmICh0aW1lSW5NaW5zIC8gMTAgPT0gMCkge1xuICAgICAgICAgICAgYmVmTWluID0gXCIwXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE1hdGguZmxvb3IodGltZUluU2VjIC8gMTApID09IDApIHtcbiAgICAgICAgICAgIGJlZlNlYyA9IFwiMFwiO1xuICAgICAgICB9XG4gICAgICAgIGN1cnJUaW1lLnRleHRDb250ZW50ID0gYmVmTWluICsgdGltZUluTWlucyArIFwiOlwiICsgYmVmU2VjICsgdGltZUluU2VjO1xuXG4gICAgICAgIGxldCBpbk1pbnMgPSBNYXRoLmZsb29yKGN1cnJlbnRTb25nLmR1cmF0aW9uIC8gNjApO1xuICAgICAgICBsZXQgaW5TZWMgPSBNYXRoLmZsb29yKGN1cnJlbnRTb25nLmR1cmF0aW9uICUgNjApO1xuXG4gICAgICAgIGxldCBiZWZNaW5zID0gXCJcIixcbiAgICAgICAgICAgIGJlZlNlY3MgPSBcIlwiO1xuICAgICAgICBpZiAoaW5NaW5zIC8gMTAgPT0gMCkge1xuICAgICAgICAgICAgYmVmTWlucyA9IFwiMFwiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChNYXRoLmZsb29yKGluU2VjIC8gMTApID09IDApIHtcbiAgICAgICAgICAgIGJlZlNlY3MgPSBcIjBcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoTnVtYmVyLmlzTmFOKGluTWlucykgPT0gZmFsc2UpXG4gICAgICAgICAgICB0b3RhbFRpbWUudGV4dENvbnRlbnQgPSBiZWZNaW5zICsgaW5NaW5zICsgXCI6XCIgKyBiZWZTZWNzICsgaW5TZWM7XG4gICAgICAgIGVsc2UgdG90YWxUaW1lLnRleHRDb250ZW50ID0gXCIwMDowMFwiO1xuICAgIH0pO1xuXG4gICAgbXVzaWNCYXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgICAgIGN1cnJlbnRTb25nLmN1cnJlbnRUaW1lID1cbiAgICAgICAgICAgIChlLm9mZnNldFggLyBlLnNyY0VsZW1lbnQuY2xpZW50V2lkdGgpICogY3VycmVudFNvbmcuZHVyYXRpb247XG4gICAgfSk7XG5cbiAgICBjb25zdCBwcmV2QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcmV2QnRuXCIpO1xuICAgIGNvbnN0IG5leHRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5leHRCdG5cIik7XG5cbiAgICBuZXh0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIGlmIChjdXJyZW50U29uZy5wYXVzZWQpIHtcbiAgICAgICAgICAgIHBsYXlCdG5JbWcuc3JjID0gXCIvZGlzdC9pY29ucy9wYXVzZS1zdmdyZXBvLWNvbS5zdmdcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5kZXggPT0gc29uZ0xpc3QubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgaW5kZXggPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgfVxuICAgICAgICBnZXRTb25nRGV0YWlscyhpbmRleCk7XG4gICAgICAgIGN1cnJlbnRTb25nLnNldEF0dHJpYnV0ZShcInNyY1wiLCBzb25nTGlzdFtpbmRleF0uc29uZ1NyYyk7XG5cbiAgICAgICAgbGV0IHBsYXlQcm9taXNlID0gY3VycmVudFNvbmcucGxheSgpO1xuXG4gICAgICAgIGlmIChwbGF5UHJvbWlzZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwbGF5UHJvbWlzZVxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFNvbmcucGxheSgpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge30pO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBwcmV2QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIGlmIChjdXJyZW50U29uZy5wYXVzZWQpIHtcbiAgICAgICAgICAgIHBsYXlCdG5JbWcuc3JjID0gXCIvZGlzdC9pY29ucy9wYXVzZS1zdmdyZXBvLWNvbS5zdmdcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5kZXggPT0gMCkge1xuICAgICAgICAgICAgaW5kZXggPSBzb25nTGlzdC5sZW5ndGggLSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW5kZXgtLTtcbiAgICAgICAgfVxuICAgICAgICBnZXRTb25nRGV0YWlscyhpbmRleCk7XG4gICAgICAgIGN1cnJlbnRTb25nLnNldEF0dHJpYnV0ZShcInNyY1wiLCBzb25nTGlzdFtpbmRleF0uc29uZ1NyYyk7XG5cbiAgICAgICAgbGV0IHBsYXlQcm9taXNlID0gY3VycmVudFNvbmcucGxheSgpO1xuXG4gICAgICAgIGlmIChwbGF5UHJvbWlzZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwbGF5UHJvbWlzZVxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFNvbmcucGxheSgpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge30pO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2b2wuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgICAgIGN1cnJlbnRTb25nLnZvbHVtZSA9IGUub2Zmc2V0WCAvIGUuc3JjRWxlbWVudC5jbGllbnRXaWR0aDtcbiAgICB9KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGFkZENvbnRyb2xzRnVuY3Rpb25hbGl0eTtcbiIsImltcG9ydCBzb25nTGlzdCBmcm9tIFwiLi9Tb25nc0xpc3Qvc29uZ3NEYXRhXCI7XG5pbXBvcnQgbWFrZU11c2ljQ2FyZHMgZnJvbSBcIi4vRnVuY3Rpb25hbGl0aWVzL21ha2VNdXNpY0NhcmRzXCI7XG5pbXBvcnQgYnVpbGRQbGF5ZXIgZnJvbSBcIi4vRnVuY3Rpb25hbGl0aWVzL2J1aWxkTXVzaWNQbGF5ZXJcIjtcbmltcG9ydCBhZGRGdW5jdGlvbmFsaXR5VG9DYXJkc09uTXVzaWNQYWdlIGZyb20gXCIuL1VzZXIgSW50ZXJmYWNlL211c2ljUGFnZVVJXCI7XG5cbmNvbnN0IGFkZENhcmRzID0gKCkgPT4ge1xuICAgIGNvbnN0IGNhcmRzQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBjYXJkc0NvbnRhaW5lci5jbGFzc0xpc3QgPSBcInNvbmdDYXJkc1wiO1xuXG4gICAgcmV0dXJuIGNhcmRzQ29udGFpbmVyO1xufTtcblxuY29uc3QgYnVpbGRDb250ZW50SW1nID0gKHNvdXJjZSkgPT4ge1xuICAgIGNvbnN0IGhvbWVCZ0ltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgaG9tZUJnSW1nLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY29udGVudC1pbWdcIik7XG4gICAgaG9tZUJnSW1nLnNyYyA9IHNvdXJjZTtcblxuICAgIHJldHVybiBob21lQmdJbWc7XG59O1xuXG5jb25zdCBsb2FkTXVzaWNQYWdlID0gKCkgPT4ge1xuICAgIGNvbnN0IG1haW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1haW5cIik7XG5cbiAgICB3aGlsZSAobWFpbi5oYXNDaGlsZE5vZGVzKCkpIHtcbiAgICAgICAgbWFpbi5yZW1vdmVDaGlsZChtYWluLmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIC8vIGhvbWUtYmFja2dyb3VuZCBpbWFnZSBzcmNcbiAgICBjb25zdCBpbGx1c1NyYyA9IFwiL2Rpc3QvSWxsdXN0cmF0aW9ucy9yb2Nrc3Rhci5zdmdcIjtcblxuICAgIGNvbnN0IGNhcmRzQ29udGFpbmVyID0gYWRkQ2FyZHMoKTtcblxuICAgIGxldCBpbmRleCA9IDM7XG4gICAgd2hpbGUgKGluZGV4IDwgNikge1xuICAgICAgICBjb25zdCBzcmMgPSBzb25nTGlzdFtpbmRleF0uaW1hZ2VTcmM7XG4gICAgICAgIGNvbnN0IG5hbWUgPSBzb25nTGlzdFtpbmRleF0ubmFtZTtcbiAgICAgICAgY29uc3QgYXJ0aXN0ID0gc29uZ0xpc3RbaW5kZXhdLmFydGlzdDtcblxuICAgICAgICBjb25zdCBjYXJkID0gbWFrZU11c2ljQ2FyZHMoc3JjLCBuYW1lLCBhcnRpc3QsIGluZGV4ICsgMSk7XG4gICAgICAgIGNhcmRzQ29udGFpbmVyLmFwcGVuZENoaWxkKGNhcmQpO1xuXG4gICAgICAgIGluZGV4Kys7XG4gICAgfVxuXG4gICAgY29uc3QgYmdJbWFnZSA9IGJ1aWxkQ29udGVudEltZyhpbGx1c1NyYyk7XG5cbiAgICBjb25zdCBtdXNpY1BsYXllciA9IGJ1aWxkUGxheWVyKCk7XG5cbiAgICBtYWluLmFwcGVuZENoaWxkKGJnSW1hZ2UpO1xuICAgIG1haW4uYXBwZW5kQ2hpbGQoY2FyZHNDb250YWluZXIpO1xuICAgIG1haW4uYXBwZW5kQ2hpbGQobXVzaWNQbGF5ZXIpO1xuXG4gICAgYWRkRnVuY3Rpb25hbGl0eVRvQ2FyZHNPbk11c2ljUGFnZSgpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgbG9hZE11c2ljUGFnZTtcbiIsImNvbnN0IGFkZEF1ZGlvRWxlbWVudCA9ICgpID0+IHtcbiAgICBsZXQgYXVkaW8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYXVkaW9cIik7XG4gICAgYXVkaW8uY2xhc3NMaXN0ID0gXCJhdWRpb0VsZW1lbnRcIjtcbiAgICBhdWRpby5zcmMgPSBcIlwiO1xuXG4gICAgcmV0dXJuIGF1ZGlvO1xufTtcblxuY29uc3QgYWRkTXVzaWNSYW5nZUJhciA9ICgpID0+IHtcbiAgICBjb25zdCByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICByYW5nZS5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwicmFuZ2VcIik7XG4gICAgcmFuZ2UuY2xhc3NMaXN0ID0gXCJtdXNpY0JhclwiO1xuICAgIHJhbmdlLnZhbHVlID0gMDtcblxuICAgIHJldHVybiByYW5nZTtcbn07XG5cbmNvbnN0IGFkZFNvbmdJbmZvID0gKCkgPT4ge1xuICAgIGNvbnN0IGluZm8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGluZm8uY2xhc3NMaXN0ID0gXCJzb25nRGV0YWlsXCI7XG5cbiAgICBjb25zdCBnaWYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgIGNvbnN0IGR1cmF0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblxuICAgIGxldCBjdXJyVGltZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgbGV0IHRvdGFsVGltZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cbiAgICBjdXJyVGltZS5jbGFzc0xpc3QgPSBcImN1cnJUaW1lXCI7XG4gICAgdG90YWxUaW1lLmNsYXNzTGlzdCA9IFwidG90YWxUaW1lXCI7XG5cbiAgICBnaWYuY2xhc3NMaXN0ID0gXCJtdXNpYy1naWZcIjtcbiAgICBkdXJhdGlvbi5jbGFzc0xpc3QgPSBcImR1cmF0aW9uXCI7XG5cbiAgICBkdXJhdGlvbi5hcHBlbmRDaGlsZChjdXJyVGltZSk7XG4gICAgZHVyYXRpb24uYXBwZW5kQ2hpbGQodG90YWxUaW1lKTtcblxuICAgIGdpZi5zcmMgPSBcIlwiO1xuXG4gICAgaW5mby5hcHBlbmRDaGlsZChnaWYpO1xuICAgIGluZm8uYXBwZW5kQ2hpbGQoZHVyYXRpb24pO1xuXG4gICAgcmV0dXJuIGluZm87XG59O1xuXG5jb25zdCBhZGRDb250cm9scyA9ICgpID0+IHtcbiAgICBjb25zdCBjb250cm9scyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cbiAgICBjb25zdCBwcmV2QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBjb25zdCBuZXh0QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBjb25zdCBwbGF5QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblxuICAgIGNvbnN0IHZvbEltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgY29uc3Qgdm9sdW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgIHZvbHVtZS52YWx1ZSA9IDEwMDtcblxuICAgIGNvbnN0IHByZXZCdG5JbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgIGNvbnN0IG5leHRCdG5JbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgIGNvbnN0IHBsYXlCdG5JbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuXG4gICAgcHJldkJ0bkltZy5zcmMgPSBcIi9kaXN0L2ljb25zL2JhY2stcmV0dXJuLXN2Z3JlcG8tY29tLnN2Z1wiO1xuICAgIG5leHRCdG5JbWcuc3JjID0gXCIvZGlzdC9pY29ucy9uZXh0LXN2Z3JlcG8tY29tLnN2Z1wiO1xuICAgIHBsYXlCdG5JbWcuc3JjID0gXCJcIjtcblxuICAgIHBsYXlCdG5JbWcuY2xhc3NMaXN0LmFkZChcInBsYXlCdG5JbWdcIiwgXCJjb250cm9sLWltZ1wiKTtcbiAgICBuZXh0QnRuSW1nLmNsYXNzTGlzdC5hZGQoXCJuZXh0QnRuSW1nXCIsIFwiY29udHJvbC1pbWdcIik7XG4gICAgcHJldkJ0bkltZy5jbGFzc0xpc3QuYWRkKFwicHJldkJ0bkltZ1wiLCBcImNvbnRyb2wtaW1nXCIpO1xuXG4gICAgcHJldkJ0bi5jbGFzc0xpc3QuYWRkKFwicHJldkJ0blwiLCBcImNvbnRyb2xCdG5cIik7XG4gICAgcGxheUJ0bi5jbGFzc0xpc3QuYWRkKFwicGxheUJ0blwiLCBcImNvbnRyb2xCdG5cIik7XG4gICAgbmV4dEJ0bi5jbGFzc0xpc3QuYWRkKFwibmV4dEJ0blwiLCBcImNvbnRyb2xCdG5cIik7XG5cbiAgICBwcmV2QnRuLmFwcGVuZENoaWxkKHByZXZCdG5JbWcpO1xuICAgIHBsYXlCdG4uYXBwZW5kQ2hpbGQocGxheUJ0bkltZyk7XG4gICAgbmV4dEJ0bi5hcHBlbmRDaGlsZChuZXh0QnRuSW1nKTtcblxuICAgIHZvbEltZy5jbGFzc0xpc3QgPSBcInZvbEltZ1wiO1xuICAgIHZvbEltZy5zcmMgPSBcIi9kaXN0L2ljb25zL3ZvbHVtZS1zdmdyZXBvLWNvbSAoMykuc3ZnXCI7XG4gICAgdm9sdW1lLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJyYW5nZVwiKTtcbiAgICB2b2x1bWUuY2xhc3NMaXN0ID0gXCJ2b2x1bWVcIjtcblxuICAgIGNvbnRyb2xzLmNsYXNzTGlzdCA9IFwiY29udHJvbHNcIjtcblxuICAgIGNvbnRyb2xzLmFwcGVuZENoaWxkKHByZXZCdG4pO1xuICAgIGNvbnRyb2xzLmFwcGVuZENoaWxkKHBsYXlCdG4pO1xuICAgIGNvbnRyb2xzLmFwcGVuZENoaWxkKG5leHRCdG4pO1xuICAgIGNvbnRyb2xzLmFwcGVuZENoaWxkKHZvbEltZyk7XG4gICAgY29udHJvbHMuYXBwZW5kQ2hpbGQodm9sdW1lKTtcblxuICAgIHJldHVybiBjb250cm9scztcbn07XG5cbmNvbnN0IGJ1aWxkUGxheWVyID0gKCkgPT4ge1xuICAgIGNvbnN0IG1lZGlhUGxheWVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBtZWRpYVBsYXllci5jbGFzc0xpc3QgPSBcIm1lZGlhUGxheWVyXCI7XG5cbiAgICBtZWRpYVBsYXllci5hcHBlbmRDaGlsZChhZGRBdWRpb0VsZW1lbnQoKSk7XG4gICAgbWVkaWFQbGF5ZXIuYXBwZW5kQ2hpbGQoYWRkU29uZ0luZm8oKSk7XG4gICAgbWVkaWFQbGF5ZXIuYXBwZW5kQ2hpbGQoYWRkTXVzaWNSYW5nZUJhcigpKTtcbiAgICBtZWRpYVBsYXllci5hcHBlbmRDaGlsZChhZGRDb250cm9scygpKTtcblxuICAgIHJldHVybiBtZWRpYVBsYXllcjtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGJ1aWxkUGxheWVyO1xuIiwiaW1wb3J0IHNvbmdMaXN0IGZyb20gXCIuLi9Tb25nc0xpc3Qvc29uZ3NEYXRhXCI7XG5pbXBvcnQgYWRkQ29udHJvbHNGdW5jdGlvbmFsaXR5IGZyb20gXCIuLi9GdW5jdGlvbmFsaXRpZXMvcGxheU11c2ljXCI7XG5pbXBvcnQgZ2V0U29uZ0RldGFpbHMgZnJvbSBcIi4uL0Z1bmN0aW9uYWxpdGllcy9idWlsZEN1cnJlbnRNdXNpY0NhcmRcIjtcbmltcG9ydCBsb2FkTXVzaWNQYWdlIGZyb20gXCIuLi9tdXNpY1BhZ2VcIjtcblxuY29uc3QgYWRkRnVuY3Rpb25hbGl0eVRvQ2FyZHNPbk11c2ljUGFnZSA9ICgpID0+IHtcbiAgICBjb25zdCBjYXJkc1BhcmVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc29uZ0NhcmRzXCIpO1xuXG4gICAgY2FyZHNQYXJlbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgICAgIGlmIChlLnRhcmdldC5wYXJlbnRFbGVtZW50LmNsYXNzTmFtZSA9PSBcImNhcmRzXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHNvbmdOYW1lID1cbiAgICAgICAgICAgICAgICBlLnRhcmdldC5wYXJlbnRFbGVtZW50LmNoaWxkcmVuWzFdLmNoaWxkcmVuWzBdLnRleHRDb250ZW50O1xuXG4gICAgICAgICAgICBsZXQgc29uZ0luZGV4O1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb25nTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChzb25nTGlzdFtpXS5uYW1lID09IHNvbmdOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHNvbmdJbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbG9hZE11c2ljUGFnZSgpO1xuICAgICAgICAgICAgZ2V0U29uZ0RldGFpbHMoc29uZ0luZGV4KTtcbiAgICAgICAgICAgIGFkZENvbnRyb2xzRnVuY3Rpb25hbGl0eShzb25nSW5kZXgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBhZGRGdW5jdGlvbmFsaXR5VG9DYXJkc09uTXVzaWNQYWdlO1xuIiwiaW1wb3J0IGxvYWRNdXNpY1BhZ2UgZnJvbSBcIi4uL211c2ljUGFnZVwiO1xuaW1wb3J0IHNvbmdMaXN0IGZyb20gXCIuLi9Tb25nc0xpc3Qvc29uZ3NEYXRhXCI7XG5pbXBvcnQgYWRkQ29udHJvbHNGdW5jdGlvbmFsaXR5IGZyb20gXCIuLi9GdW5jdGlvbmFsaXRpZXMvcGxheU11c2ljXCI7XG5pbXBvcnQgZ2V0U29uZ0RldGFpbHMgZnJvbSBcIi4uL0Z1bmN0aW9uYWxpdGllcy9idWlsZEN1cnJlbnRNdXNpY0NhcmRcIjtcbmltcG9ydCBnZXRTZWFyY2hEYXRhIGZyb20gXCIuLi9GdW5jdGlvbmFsaXRpZXMvc2VhcmNoQmFyXCI7XG5cbmNvbnN0IGdldENsaWNrZWQgPSAoZSkgPT4ge1xuICAgIGlmIChlLnRhcmdldC5wYXJlbnRFbGVtZW50LmNsYXNzTmFtZSA9PSBcImNhcmRzXCIpIHtcbiAgICAgICAgY29uc3Qgc29uZ05hbWUgPVxuICAgICAgICAgICAgZS50YXJnZXQucGFyZW50RWxlbWVudC5jaGlsZHJlblsxXS5jaGlsZHJlblswXS50ZXh0Q29udGVudDtcblxuICAgICAgICBsZXQgc29uZ0luZGV4O1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNvbmdMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoc29uZ0xpc3RbaV0ubmFtZSA9PSBzb25nTmFtZSkge1xuICAgICAgICAgICAgICAgIHNvbmdJbmRleCA9IGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbG9hZE11c2ljUGFnZSgpO1xuICAgICAgICBnZXRTb25nRGV0YWlscyhzb25nSW5kZXgpO1xuICAgICAgICBhZGRDb250cm9sc0Z1bmN0aW9uYWxpdHkoc29uZ0luZGV4KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm47XG4gICAgfVxufTtcblxuY29uc3QgYWRkRnVuY3Rpb25hbGl0eVRvSG9tZUVsZW1lbnRzID0gKCkgPT4ge1xuICAgIGNvbnN0IGNhcmRzUGFyZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tdXNpYy1jYXJkc1wiKTtcblxuICAgIGNhcmRzUGFyZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBnZXRDbGlja2VkKTtcblxuICAgIGdldFNlYXJjaERhdGEoKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGFkZEZ1bmN0aW9uYWxpdHlUb0hvbWVFbGVtZW50cztcbiIsImltcG9ydCBzb25nTGlzdCBmcm9tIFwiLi4vU29uZ3NMaXN0L3NvbmdzRGF0YVwiO1xuaW1wb3J0IGxvYWRNdXNpY1BhZ2UgZnJvbSBcIi4uL211c2ljUGFnZVwiO1xuaW1wb3J0IGdldFNvbmdEZXRhaWxzIGZyb20gXCIuL2J1aWxkQ3VycmVudE11c2ljQ2FyZFwiO1xuaW1wb3J0IGFkZENvbnRyb2xzRnVuY3Rpb25hbGl0eSBmcm9tIFwiLi9wbGF5TXVzaWNcIjtcblxuY29uc3QgZ2V0U2VhcmNoRGF0YSA9ICgpID0+IHtcbiAgICBjb25zdCBzZWFyY2hCYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNlYXJjaC1iYXJcIik7XG5cbiAgICBsZXQgc2VhcmNoUmVzdWx0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmVzdWx0c1wiKTtcblxuICAgIGNvbnN0IHNlYXJjaEJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VhcmNoQm94XCIpO1xuXG4gICAgc2VhcmNoQmFyLmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLCAoKSA9PiB7fSk7XG5cbiAgICBzZWFyY2hCYXIuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIChlKSA9PiB7XG4gICAgICAgIGxldCBpbnB1dEJ5VXNlciA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICBpbnB1dEJ5VXNlciA9IGlucHV0QnlVc2VyLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgaWYgKGlucHV0QnlVc2VyID09IFwiXCIpIHtcbiAgICAgICAgICAgIHdoaWxlIChzZWFyY2hSZXN1bHRzLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICBzZWFyY2hSZXN1bHRzLnJlbW92ZUNoaWxkKHNlYXJjaFJlc3VsdHMuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKHNlYXJjaFJlc3VsdHMuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgc2VhcmNoUmVzdWx0cy5yZW1vdmVDaGlsZChzZWFyY2hSZXN1bHRzLmZpcnN0Q2hpbGQpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHNvbmdMaXN0Lmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgbGV0IGdldE5hbWUgPSBzb25nTGlzdFtpbmRleF0ubmFtZTtcbiAgICAgICAgICAgIGdldE5hbWUgPSBnZXROYW1lLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgICAgIGlmIChnZXROYW1lLmluY2x1ZGVzKGlucHV0QnlVc2VyKSkge1xuICAgICAgICAgICAgICAgIGxldCBtYXRjaGVkU3RyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICBtYXRjaGVkU3RyLmNsYXNzTGlzdCA9IFwibWF0Y2hlZFN0clwiO1xuXG4gICAgICAgICAgICAgICAgbGV0IGlucHV0TmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgaW5wdXROYW1lLmNsYXNzTGlzdCA9IFwiaW5wdXROYW1lXCI7XG5cbiAgICAgICAgICAgICAgICBsZXQgaW5wdXRBcnRpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgIGlucHV0QXJ0aXN0LmNsYXNzTGlzdCA9IFwiaW5wdXRBcnRpc3RcIjtcblxuICAgICAgICAgICAgICAgIGlucHV0TmFtZS50ZXh0Q29udGVudCA9IHNvbmdMaXN0W2luZGV4XS5uYW1lO1xuICAgICAgICAgICAgICAgIGlucHV0QXJ0aXN0LnRleHRDb250ZW50ID0gc29uZ0xpc3RbaW5kZXhdLmFydGlzdDtcblxuICAgICAgICAgICAgICAgIG1hdGNoZWRTdHIuYXBwZW5kQ2hpbGQoaW5wdXROYW1lKTtcbiAgICAgICAgICAgICAgICBtYXRjaGVkU3RyLmFwcGVuZENoaWxkKGlucHV0QXJ0aXN0KTtcblxuICAgICAgICAgICAgICAgIHNlYXJjaFJlc3VsdHMuYXBwZW5kQ2hpbGQobWF0Y2hlZFN0cik7XG5cbiAgICAgICAgICAgICAgICBzZWFyY2hCb3guYXBwZW5kQ2hpbGQoc2VhcmNoUmVzdWx0cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgYWxsUmVzdWx0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubWF0Y2hlZFN0clwiKTtcblxuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgYWxsUmVzdWx0cy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIGFsbFJlc3VsdHNbaW5kZXhdLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGluZGV4SW5Tb25nTGlzdDtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBzb25nTGlzdC5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbFJlc3VsdHNbaW5kZXhdLmZpcnN0Q2hpbGQudGV4dENvbnRlbnQgPT1cbiAgICAgICAgICAgICAgICAgICAgICAgIHNvbmdMaXN0W2lkeF0ubmFtZVxuICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4SW5Tb25nTGlzdCA9IGlkeDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsb2FkTXVzaWNQYWdlKCk7XG4gICAgICAgICAgICAgICAgZ2V0U29uZ0RldGFpbHMoaW5kZXhJblNvbmdMaXN0KTtcbiAgICAgICAgICAgICAgICBhZGRDb250cm9sc0Z1bmN0aW9uYWxpdHkoaW5kZXhJblNvbmdMaXN0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBnZXRTZWFyY2hEYXRhO1xuIiwiaW1wb3J0IHNvbmdMaXN0IGZyb20gXCIuL1NvbmdzTGlzdC9zb25nc0RhdGFcIjtcbmltcG9ydCBtYWtlTXVzaWNDYXJkcyBmcm9tIFwiLi9GdW5jdGlvbmFsaXRpZXMvbWFrZU11c2ljQ2FyZHNcIjtcbmltcG9ydCBhZGRGdW5jdGlvbmFsaXR5VG9Ib21lRWxlbWVudHMgZnJvbSBcIi4vVXNlciBJbnRlcmZhY2UvaG9tZVVJXCI7XG5cbmNvbnN0IGJ1aWxkQ29udGVudCA9ICgpID0+IHtcbiAgICBjb25zdCBkYXRhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBkYXRhLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY29udGVudC1kYXRhXCIpO1xuICAgIGRhdGEudGV4dENvbnRlbnQgPSBcIkdldCByZWFkeSB0byBlbmpveSB0aGUgZXhwZXJpZW5jZSFcIjtcblxuICAgIHJldHVybiBkYXRhO1xufTtcblxuY29uc3QgZ2V0U29uZ3NMaXN0ID0gKCkgPT4ge1xuICAgIGNvbnN0IGxpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGxpc3QuY2xhc3NMaXN0ID0gXCJsaXN0LW9mLXNvbmdzXCI7XG5cbiAgICByZXR1cm4gbGlzdDtcbn07XG5cbmNvbnN0IGFkZENhcmRzID0gKCkgPT4ge1xuICAgIGNvbnN0IGNhcmRzQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBjYXJkc0NvbnRhaW5lci5jbGFzc0xpc3QgPSBcIm11c2ljLWNhcmRzXCI7XG5cbiAgICByZXR1cm4gY2FyZHNDb250YWluZXI7XG59O1xuXG5jb25zdCBhZGRTZWFyY2hCYXIgPSAoKSA9PiB7XG4gICAgY29uc3Qgc2VhcmNoQm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBzZWFyY2hCb3guY2xhc3NMaXN0ID0gXCJzZWFyY2hCb3hcIjtcblxuICAgIGNvbnN0IGJhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICBiYXIuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInNlYXJjaFwiKTtcbiAgICBiYXIuY2xhc3NMaXN0ID0gXCJzZWFyY2gtYmFyXCI7XG5cbiAgICBjb25zdCByZXN1bHRzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICByZXN1bHRzLmNsYXNzTGlzdCA9IFwicmVzdWx0c1wiO1xuXG4gICAgY29uc3Qgc2VhcmNoSWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgc2VhcmNoSWNvbi5jbGFzc0xpc3QgPSBcInNlYXJjaEljb25cIjtcbiAgICBzZWFyY2hJY29uLnNyYyA9XG4gICAgICAgIFwiL2Rpc3QvaWNvbnMvY29sb3ItbGluZWFsLW1hZ25pZnlpbmctZ2xhc3Mtc3ZncmVwby1jb20uc3ZnXCI7XG5cbiAgICBzZWFyY2hCb3guYXBwZW5kQ2hpbGQoc2VhcmNoSWNvbik7XG4gICAgc2VhcmNoQm94LmFwcGVuZENoaWxkKGJhcik7XG4gICAgc2VhcmNoQm94LmFwcGVuZENoaWxkKHJlc3VsdHMpO1xuXG4gICAgcmV0dXJuIHNlYXJjaEJveDtcbn07XG5cbmNvbnN0IGxvYWRIb21lID0gKCkgPT4ge1xuICAgIGNvbnN0IG1haW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1haW5cIik7XG5cbiAgICB3aGlsZSAobWFpbi5oYXNDaGlsZE5vZGVzKCkpIHtcbiAgICAgICAgbWFpbi5yZW1vdmVDaGlsZChtYWluLmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIGNvbnN0IGNhcmRzQ29udGFpbmVyID0gYWRkQ2FyZHMoKTtcblxuICAgIC8vIHNvbmcncyBpbWFnZSBhbmQgbmFtZVxuICAgIGxldCBpbmRleCA9IDA7XG4gICAgd2hpbGUgKGluZGV4IDwgNikge1xuICAgICAgICBjb25zdCBzcmMgPSBzb25nTGlzdFtpbmRleF0uaW1hZ2VTcmM7XG4gICAgICAgIGNvbnN0IG5hbWUgPSBzb25nTGlzdFtpbmRleF0ubmFtZTtcbiAgICAgICAgY29uc3QgYXJ0aXN0ID0gc29uZ0xpc3RbaW5kZXhdLmFydGlzdDtcblxuICAgICAgICBjb25zdCBjYXJkID0gbWFrZU11c2ljQ2FyZHMoc3JjLCBuYW1lLCBhcnRpc3QsIGluZGV4ICsgMSk7XG4gICAgICAgIGNhcmRzQ29udGFpbmVyLmFwcGVuZENoaWxkKGNhcmQpO1xuXG4gICAgICAgIGluZGV4Kys7XG4gICAgfVxuXG4gICAgY29uc3Qgc29uZ3NMaXN0ID0gZ2V0U29uZ3NMaXN0KCk7XG5cbiAgICBzb25nc0xpc3QuYXBwZW5kQ2hpbGQoY2FyZHNDb250YWluZXIpO1xuXG4gICAgY29uc3QgaG9tZU1zZyA9IGJ1aWxkQ29udGVudCgpO1xuXG4gICAgY29uc3Qgc2VhcmNoQmFyID0gYWRkU2VhcmNoQmFyKCk7XG5cbiAgICBtYWluLmFwcGVuZENoaWxkKGhvbWVNc2cpO1xuICAgIG1haW4uYXBwZW5kQ2hpbGQoc2VhcmNoQmFyKTtcbiAgICBtYWluLmFwcGVuZENoaWxkKHNvbmdzTGlzdCk7XG5cbiAgICBhZGRGdW5jdGlvbmFsaXR5VG9Ib21lRWxlbWVudHMoKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGxvYWRIb21lO1xuIiwiaW1wb3J0IGxvYWRIb21lIGZyb20gXCIuL2hvbWVcIjtcbmltcG9ydCBsb2FkTXVzaWNQYWdlIGZyb20gXCIuL211c2ljUGFnZVwiO1xuXG5jb25zdCBsb2FkV2VicGFnZSA9ICgpID0+IHtcbiAgICBsb2FkSG9tZSgpO1xuXG4gICAgY29uc3QgaG9tZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaG9tZS1idG5cIik7XG4gICAgY29uc3QgbWVkaWFQbGF5ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm11c2ljLWxpc3QtYnRuXCIpO1xuICAgIC8vY29uc3QgcGxheWxpc3RCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwicGxheWxpc3QtYnRuXCIpO1xuXG4gICAgaG9tZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgbG9hZEhvbWUpO1xuICAgIG1lZGlhUGxheWVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBsb2FkTXVzaWNQYWdlKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGxvYWRXZWJwYWdlO1xuIiwiaW1wb3J0IGxvYWRXZWJwYWdlIGZyb20gXCIuL21vZHVsZXMvd2VicGFnZVwiO1xuXG5sb2FkV2VicGFnZSgpO1xuIl0sIm5hbWVzIjpbIm5hbWUiLCJhcnRpc3QiLCJpbWFnZVNyYyIsInNvbmdTcmMiLCJkdXJhdGlvbiIsInNvdXJjZSIsInNvbmdJbWciLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJzcmMiLCJib3giLCJzb25nTmFtZSIsInRleHRDb250ZW50IiwiYXJ0aXN0TmFtZSIsImFwcGVuZENoaWxkIiwibWFpbkNhcmQiLCJpbmRleCIsIm1haW4iLCJxdWVyeVNlbGVjdG9yIiwibGFzdENoaWxkIiwiY2xhc3NOYW1lIiwicmVtb3ZlQ2hpbGQiLCJkYXRhIiwic2V0QXR0cmlidXRlIiwic29uZ1dyaXRlciIsImJ1aWxkU29uZ0luZm8iLCJjdXJyZW50U29uZyIsInBsYXlCdG4iLCJwbGF5QnRuSW1nIiwidm9sIiwiY3VyclRpbWUiLCJ0b3RhbFRpbWUiLCJtdXNpY0dpZiIsInBsYXlQcm9taXNlIiwicGxheSIsInVuZGVmaW5lZCIsInRoZW4iLCJjYXRjaCIsImVycm9yIiwiYWRkRXZlbnRMaXN0ZW5lciIsInBhdXNlZCIsInN0eWxlIiwib3BhY2l0eSIsInBhdXNlIiwibXVzaWNCYXIiLCJjdXJyZW50VGltZSIsInNvbmdQcm9ncmVzcyIsInZhbHVlIiwidGltZUluTWlucyIsIk1hdGgiLCJmbG9vciIsInRpbWVJblNlYyIsImJlZk1pbiIsImJlZlNlYyIsImluTWlucyIsImluU2VjIiwiYmVmTWlucyIsImJlZlNlY3MiLCJOdW1iZXIiLCJpc05hTiIsImUiLCJvZmZzZXRYIiwic3JjRWxlbWVudCIsImNsaWVudFdpZHRoIiwicHJldkJ0biIsInZvbHVtZSIsImhhc0NoaWxkTm9kZXMiLCJmaXJzdENoaWxkIiwiY2FyZHNDb250YWluZXIiLCJhZGRDYXJkcyIsImNhcmQiLCJiZ0ltYWdlIiwiaG9tZUJnSW1nIiwiYnVpbGRDb250ZW50SW1nIiwibXVzaWNQbGF5ZXIiLCJtZWRpYVBsYXllciIsImF1ZGlvIiwiYWRkQXVkaW9FbGVtZW50IiwiaW5mbyIsImdpZiIsImFkZFNvbmdJbmZvIiwicmFuZ2UiLCJhZGRNdXNpY1JhbmdlQmFyIiwiY29udHJvbHMiLCJuZXh0QnRuIiwidm9sSW1nIiwicHJldkJ0bkltZyIsIm5leHRCdG5JbWciLCJhZGRDb250cm9scyIsInRhcmdldCIsInBhcmVudEVsZW1lbnQiLCJjaGlsZHJlbiIsInNvbmdJbmRleCIsImkiLCJnZXRDbGlja2VkIiwic2VhcmNoQmFyIiwic2VhcmNoUmVzdWx0cyIsInNlYXJjaEJveCIsImlucHV0QnlVc2VyIiwidG9Mb3dlckNhc2UiLCJnZXROYW1lIiwiaW5jbHVkZXMiLCJtYXRjaGVkU3RyIiwiaW5wdXROYW1lIiwiaW5wdXRBcnRpc3QiLCJhbGxSZXN1bHRzIiwicXVlcnlTZWxlY3RvckFsbCIsImxlbmd0aCIsImluZGV4SW5Tb25nTGlzdCIsImlkeCIsInNvbmdzTGlzdCIsImxpc3QiLCJnZXRTb25nc0xpc3QiLCJob21lTXNnIiwiYnVpbGRDb250ZW50IiwiYmFyIiwicmVzdWx0cyIsInNlYXJjaEljb24iLCJhZGRTZWFyY2hCYXIiLCJob21lQnRuIl0sInNvdXJjZVJvb3QiOiIifQ==