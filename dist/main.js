(()=>{"use strict";const e=[{name:"On & On",artist:"Cartoon x Havsun x Wayout, ft. Daniel Levi",imageSrc:"/song-images/on&on.jpg",songSrc:"/sample-songs/Cartoon - On & On (ft. Daniel Levi)(Cartoon x HAVSUN x WAYOUT Remix) [NCS Release].mp3",duration:"03:58"},{name:"Mortals",artist:"Warriyo, feat. Laura Brehm",imageSrc:"/song-images/warriyo.jpg",songSrc:"/sample-songs/Warriyo - Mortals (feat. Laura Brehm) [NCS Release].mp3",duration:"03:48"},{name:"Cradles",artist:"Sub Urban",imageSrc:"/song-images/cradles.jpg",songSrc:"/sample-songs/Sub Urban - Cradles [NCS Release].mp3",duration:"03:29"},{name:"Adventures",artist:"William Ekh, feat. Alexa Lusader",imageSrc:"/song-images/adventures.jpg",songSrc:"/sample-songs/William Ekh - Adventures (feat. Alexa Lusader) [NCS Release].mp3",duration:"03:11"},{name:"Set Me Free",artist:"Simbai & Frizzy The Streetz",imageSrc:"/song-images/setmefree.jpg",songSrc:"/sample-songs/Simbai & Frizzy The Streetz - Set Me Free [NCS Release].mp3",duration:"02:49"},{name:"Heroes Tonight",artist:"Janji, ft.Johnning",imageSrc:"/song-images/janji.jpg",songSrc:"/sample-songs/Janji - Heroes Tonight (feat. Johnning) [NCS Release].mp3",duration:"03:28"}],t=(e,t,n)=>{const s=document.createElement("img");s.classList.add("card-img"),s.src=e;const a=document.createElement("div");a.classList="musicBox";const c=document.createElement("div");c.classList.add("music-name"),c.textContent=t;const r=document.createElement("div");r.classList.add("artist-name"),r.textContent=n,a.appendChild(c),a.appendChild(r);const i=document.createElement("div");return i.classList.add("cards"),i.appendChild(s),i.appendChild(a),i},n=t=>{const n=document.querySelector(".main");"songData"==n.lastChild.className&&n.removeChild(n.lastChild),n.appendChild((t=>{const n=document.createElement("div");n.classList="songData";const s=document.createElement("img");s.classList="mainImg",s.setAttribute("src",e[t].imageSrc);const a=document.createElement("div");a.classList="songName",a.textContent=e[t].name;const c=document.createElement("div");return c.classList="artist",c.textContent=e[t].artist,n.appendChild(s),n.appendChild(a),n.appendChild(c),n})(t))},s=t=>{let s=document.querySelector(".audioElement"),a=document.querySelector(".playBtn"),c=document.querySelector(".playBtnImg");const r=document.querySelector(".volume");let i=document.querySelector(".currTime");const o=document.querySelector(".totalTime"),l=document.querySelector(".music-gif");s.setAttribute("src",e[t].songSrc),c.src="/icons/pause-svgrepo-com.svg";let d=s.play();void 0!==d&&d.then((()=>{s.play()})).catch((e=>{alert(e)})),l.setAttribute("src","/icons/Music.gif"),a.addEventListener("click",(()=>{s.paused?(s.play(),c.src="/icons/pause-svgrepo-com.svg",l.style.opacity="1"):(s.pause(),c.src="/icons/play-svgrepo-com.svg",l.style.opacity="0")}));const m=document.querySelector(".musicBar");s.addEventListener("timeupdate",(()=>{if(s.currentTime==s.duration){t==e.length-1?t=0:t++,n(t),s.setAttribute("src",e[t].songSrc);let a=s.play();void 0!==a&&a.then((()=>{s.play()})).catch((e=>{alert(e)}))}let a=s.currentTime/s.duration*100;m.value=a;let c=Math.floor(s.currentTime/60),r=Math.floor(s.currentTime%60),l="",d="";c/10==0&&(l="0"),0==Math.floor(r/10)&&(d="0"),i.textContent=l+c+":"+d+r;let u=Math.floor(s.duration/60),p=Math.floor(s.duration%60),g="",h="";u/10==0&&(g="0"),0==Math.floor(p/10)&&(h="0"),0==Number.isNaN(u)?o.textContent=g+u+":"+h+p:o.textContent="00:00"})),m.addEventListener("click",(e=>{s.currentTime=e.offsetX/e.srcElement.clientWidth*s.duration}));const u=document.querySelector(".prevBtn");document.querySelector(".nextBtn").addEventListener("click",(()=>{s.paused&&(c.src="/icons/pause-svgrepo-com.svg"),t==e.length-1?t=0:t++,n(t),s.setAttribute("src",e[t].songSrc);let a=s.play();void 0!==a&&a.then((()=>{s.play()})).catch((e=>{alert(e)}))})),u.addEventListener("click",(()=>{s.paused&&(c.src="/icons/pause-svgrepo-com.svg"),0==t?t=e.length-1:t--,n(t),s.setAttribute("src",e[t].songSrc);let a=s.play();void 0!==a&&a.then((()=>{s.play()})).catch((e=>{alert(e)}))})),r.addEventListener("click",(e=>{s.volume=e.offsetX/e.srcElement.clientWidth}))},a=()=>{const c=document.querySelector(".main");for(;c.hasChildNodes();)c.removeChild(c.firstChild);const r=(()=>{const e=document.createElement("div");return e.classList="songCards",e})();let i=3;for(;i<6;){const n=e[i].imageSrc,s=e[i].name,a=e[i].artist,c=t(n,s,a);r.appendChild(c),i++}const o=(e=>{const t=document.createElement("img");return t.setAttribute("class","content-img"),t.src="/Illustrations/rockstar.svg",t})(),l=(()=>{const e=document.createElement("div");return e.classList="mediaPlayer",e.appendChild((()=>{let e=document.createElement("audio");return e.classList="audioElement",e.src="",e})()),e.appendChild((()=>{const e=document.createElement("div");e.classList="songDetail";const t=document.createElement("img"),n=document.createElement("div");let s=document.createElement("div"),a=document.createElement("div");return s.classList="currTime",a.classList="totalTime",t.classList="music-gif",n.classList="duration",n.appendChild(s),n.appendChild(a),t.src="",e.appendChild(t),e.appendChild(n),e})()),e.appendChild((()=>{const e=document.createElement("input");return e.setAttribute("type","range"),e.classList="musicBar",e.value=0,e})()),e.appendChild((()=>{const e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div"),s=document.createElement("div"),a=document.createElement("img"),c=document.createElement("input");c.value=100;const r=document.createElement("img"),i=document.createElement("img"),o=document.createElement("img");return r.src="/icons/back-return-svgrepo-com.svg",i.src="/icons/next-svgrepo-com.svg",o.src="",o.classList.add("playBtnImg","control-img"),i.classList.add("nextBtnImg","control-img"),r.classList.add("prevBtnImg","control-img"),t.classList.add("prevBtn","controlBtn"),s.classList.add("playBtn","controlBtn"),n.classList.add("nextBtn","controlBtn"),t.appendChild(r),s.appendChild(o),n.appendChild(i),a.classList="volImg",a.src="/icons/volume-svgrepo-com (3).svg",c.setAttribute("type","range"),c.classList="volume",e.classList="controls",e.appendChild(t),e.appendChild(s),e.appendChild(n),e.appendChild(a),e.appendChild(c),e})()),e})();c.appendChild(o),c.appendChild(r),c.appendChild(l),document.querySelector(".songCards").addEventListener("click",(t=>{if("cards"==t.target.parentElement.className){const c=t.target.parentElement.children[1].children[0].textContent;let r;for(let t=0;t<e.length;t++)e[t].name==c&&(r=t);a(),n(r),s(r)}}))},c=t=>{if("cards"==t.target.parentElement.className){const c=t.target.parentElement.children[1].children[0].textContent;let r;for(let t=0;t<e.length;t++)e[t].name==c&&(r=t);a(),n(r),s(r)}},r=()=>{document.querySelector(".music-cards").addEventListener("click",c),(()=>{const t=document.querySelector(".search-bar");let c=document.querySelector(".results");const r=document.querySelector(".searchBox");t.addEventListener("focus",(()=>{})),t.addEventListener("input",(t=>{let i=t.target.value;if(i=i.toLowerCase(),""==i){for(;c.firstChild;)c.removeChild(c.firstChild);return}for(;c.firstChild;)c.removeChild(c.firstChild);for(let t=0;t<e.length;t++){let n=e[t].name;if(n=n.toLowerCase(),n.includes(i)){let n=document.createElement("div");n.classList="matchedStr";let s=document.createElement("div");s.classList="inputName";let a=document.createElement("div");a.classList="inputArtist",s.textContent=e[t].name,a.textContent=e[t].artist,n.appendChild(s),n.appendChild(a),c.appendChild(n),r.appendChild(c)}}let o=document.querySelectorAll(".matchedStr");for(let t=0;t<o.length;t++)o[t].addEventListener("click",(()=>{let c;for(let n=0;n<e.length;n++)o[t].firstChild.textContent==e[n].name&&(c=n);a(),n(c),s(c)}))}))})()},i=()=>{const n=document.querySelector(".main");for(;n.hasChildNodes();)n.removeChild(n.firstChild);const s=(()=>{const e=document.createElement("div");return e.classList="music-cards",e})();let a=0;for(;a<6;){const n=e[a].imageSrc,c=e[a].name,r=e[a].artist,i=t(n,c,r);s.appendChild(i),a++}const c=(()=>{const e=document.createElement("div");return e.classList="list-of-songs",e})();c.appendChild(s);const i=(()=>{const e=document.createElement("div");return e.setAttribute("class","content-data"),e.textContent="Get ready to enjoy the experience!",e})(),o=(()=>{const e=document.createElement("div");e.classList="searchBox";const t=document.createElement("input");t.setAttribute("type","search"),t.classList="search-bar";const n=document.createElement("div");n.classList="results";const s=document.createElement("img");return s.classList="searchIcon",s.src="/icons/color-lineal-magnifying-glass-svgrepo-com.svg",e.appendChild(s),e.appendChild(t),e.appendChild(n),e})();n.appendChild(i),n.appendChild(o),n.appendChild(c),r()};(()=>{i();const e=document.querySelector(".home-btn"),t=document.querySelector(".music-list-btn");e.addEventListener("click",i),t.addEventListener("click",a)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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U0FBU2EsY0FBYyxtQkFHM0NzRyxFQUFRaEYsaUJBQWlCLFFBQVMsR0FDbENvQyxFQUFZcEMsaUJBQWlCLFFBQVMsSUNUMUMsSSIsInNvdXJjZXMiOlsid2VicGFjazovL211c2ljLXBsYXllci8uL3NyYy9tb2R1bGVzL1NvbmdzTGlzdC9zb25nc0RhdGEuanMiLCJ3ZWJwYWNrOi8vbXVzaWMtcGxheWVyLy4vc3JjL21vZHVsZXMvRnVuY3Rpb25hbGl0aWVzL21ha2VNdXNpY0NhcmRzLmpzIiwid2VicGFjazovL211c2ljLXBsYXllci8uL3NyYy9tb2R1bGVzL0Z1bmN0aW9uYWxpdGllcy9idWlsZEN1cnJlbnRNdXNpY0NhcmQuanMiLCJ3ZWJwYWNrOi8vbXVzaWMtcGxheWVyLy4vc3JjL21vZHVsZXMvRnVuY3Rpb25hbGl0aWVzL3BsYXlNdXNpYy5qcyIsIndlYnBhY2s6Ly9tdXNpYy1wbGF5ZXIvLi9zcmMvbW9kdWxlcy9tdXNpY1BhZ2UuanMiLCJ3ZWJwYWNrOi8vbXVzaWMtcGxheWVyLy4vc3JjL21vZHVsZXMvRnVuY3Rpb25hbGl0aWVzL2J1aWxkTXVzaWNQbGF5ZXIuanMiLCJ3ZWJwYWNrOi8vbXVzaWMtcGxheWVyLy4vc3JjL21vZHVsZXMvVXNlciBJbnRlcmZhY2UvbXVzaWNQYWdlVUkuanMiLCJ3ZWJwYWNrOi8vbXVzaWMtcGxheWVyLy4vc3JjL21vZHVsZXMvVXNlciBJbnRlcmZhY2UvaG9tZVVJLmpzIiwid2VicGFjazovL211c2ljLXBsYXllci8uL3NyYy9tb2R1bGVzL0Z1bmN0aW9uYWxpdGllcy9zZWFyY2hCYXIuanMiLCJ3ZWJwYWNrOi8vbXVzaWMtcGxheWVyLy4vc3JjL21vZHVsZXMvaG9tZS5qcyIsIndlYnBhY2s6Ly9tdXNpYy1wbGF5ZXIvLi9zcmMvbW9kdWxlcy93ZWJwYWdlLmpzIiwid2VicGFjazovL211c2ljLXBsYXllci8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBzb25nTGlzdCA9IFtcbiAgICB7XG4gICAgICAgIG5hbWU6IFwiT24gJiBPblwiLFxuICAgICAgICBhcnRpc3Q6IFwiQ2FydG9vbiB4IEhhdnN1biB4IFdheW91dCwgZnQuIERhbmllbCBMZXZpXCIsXG4gICAgICAgIGltYWdlU3JjOiBcIi9zb25nLWltYWdlcy9vbiZvbi5qcGdcIixcbiAgICAgICAgc29uZ1NyYzpcbiAgICAgICAgICAgIFwiL3NhbXBsZS1zb25ncy9DYXJ0b29uIC0gT24gJiBPbiAoZnQuIERhbmllbCBMZXZpKShDYXJ0b29uIHggSEFWU1VOIHggV0FZT1VUIFJlbWl4KSBbTkNTIFJlbGVhc2VdLm1wM1wiLFxuICAgICAgICBkdXJhdGlvbjogXCIwMzo1OFwiLFxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiBcIk1vcnRhbHNcIixcbiAgICAgICAgYXJ0aXN0OiBcIldhcnJpeW8sIGZlYXQuIExhdXJhIEJyZWhtXCIsXG4gICAgICAgIGltYWdlU3JjOiBcIi9zb25nLWltYWdlcy93YXJyaXlvLmpwZ1wiLFxuICAgICAgICBzb25nU3JjOlxuICAgICAgICAgICAgXCIvc2FtcGxlLXNvbmdzL1dhcnJpeW8gLSBNb3J0YWxzIChmZWF0LiBMYXVyYSBCcmVobSkgW05DUyBSZWxlYXNlXS5tcDNcIixcbiAgICAgICAgZHVyYXRpb246IFwiMDM6NDhcIixcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogXCJDcmFkbGVzXCIsXG4gICAgICAgIGFydGlzdDogXCJTdWIgVXJiYW5cIixcbiAgICAgICAgaW1hZ2VTcmM6IFwiL3NvbmctaW1hZ2VzL2NyYWRsZXMuanBnXCIsXG4gICAgICAgIHNvbmdTcmM6IFwiL3NhbXBsZS1zb25ncy9TdWIgVXJiYW4gLSBDcmFkbGVzIFtOQ1MgUmVsZWFzZV0ubXAzXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcIjAzOjI5XCIsXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6IFwiQWR2ZW50dXJlc1wiLFxuICAgICAgICBhcnRpc3Q6IFwiV2lsbGlhbSBFa2gsIGZlYXQuIEFsZXhhIEx1c2FkZXJcIixcbiAgICAgICAgaW1hZ2VTcmM6IFwiL3NvbmctaW1hZ2VzL2FkdmVudHVyZXMuanBnXCIsXG4gICAgICAgIHNvbmdTcmM6XG4gICAgICAgICAgICBcIi9zYW1wbGUtc29uZ3MvV2lsbGlhbSBFa2ggLSBBZHZlbnR1cmVzIChmZWF0LiBBbGV4YSBMdXNhZGVyKSBbTkNTIFJlbGVhc2VdLm1wM1wiLFxuICAgICAgICBkdXJhdGlvbjogXCIwMzoxMVwiLFxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiBcIlNldCBNZSBGcmVlXCIsXG4gICAgICAgIGFydGlzdDogXCJTaW1iYWkgJiBGcml6enkgVGhlIFN0cmVldHpcIixcbiAgICAgICAgaW1hZ2VTcmM6IFwiL3NvbmctaW1hZ2VzL3NldG1lZnJlZS5qcGdcIixcbiAgICAgICAgc29uZ1NyYzpcbiAgICAgICAgICAgIFwiL3NhbXBsZS1zb25ncy9TaW1iYWkgJiBGcml6enkgVGhlIFN0cmVldHogLSBTZXQgTWUgRnJlZSBbTkNTIFJlbGVhc2VdLm1wM1wiLFxuICAgICAgICBkdXJhdGlvbjogXCIwMjo0OVwiLFxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiBcIkhlcm9lcyBUb25pZ2h0XCIsXG4gICAgICAgIGFydGlzdDogXCJKYW5qaSwgZnQuSm9obm5pbmdcIixcbiAgICAgICAgaW1hZ2VTcmM6IFwiL3NvbmctaW1hZ2VzL2phbmppLmpwZ1wiLFxuICAgICAgICBzb25nU3JjOlxuICAgICAgICAgICAgXCIvc2FtcGxlLXNvbmdzL0phbmppIC0gSGVyb2VzIFRvbmlnaHQgKGZlYXQuIEpvaG5uaW5nKSBbTkNTIFJlbGVhc2VdLm1wM1wiLFxuICAgICAgICBkdXJhdGlvbjogXCIwMzoyOFwiLFxuICAgIH0sXG5dO1xuXG5leHBvcnQgZGVmYXVsdCBzb25nTGlzdDtcbiIsImNvbnN0IG1ha2VNdXNpY0NhcmRzID0gKHNvdXJjZSwgbmFtZSwgYXJ0aXN0KSA9PiB7XG4gICAgY29uc3Qgc29uZ0ltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgc29uZ0ltZy5jbGFzc0xpc3QuYWRkKFwiY2FyZC1pbWdcIik7XG4gICAgc29uZ0ltZy5zcmMgPSBzb3VyY2U7XG5cbiAgICBjb25zdCBib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGJveC5jbGFzc0xpc3QgPSBcIm11c2ljQm94XCI7XG5cbiAgICBjb25zdCBzb25nTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgc29uZ05hbWUuY2xhc3NMaXN0LmFkZChcIm11c2ljLW5hbWVcIik7XG4gICAgc29uZ05hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xuXG4gICAgY29uc3QgYXJ0aXN0TmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgYXJ0aXN0TmFtZS5jbGFzc0xpc3QuYWRkKFwiYXJ0aXN0LW5hbWVcIik7XG4gICAgYXJ0aXN0TmFtZS50ZXh0Q29udGVudCA9IGFydGlzdDtcblxuICAgIGJveC5hcHBlbmRDaGlsZChzb25nTmFtZSk7XG4gICAgYm94LmFwcGVuZENoaWxkKGFydGlzdE5hbWUpO1xuXG4gICAgY29uc3QgbWFpbkNhcmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIG1haW5DYXJkLmNsYXNzTGlzdC5hZGQoXCJjYXJkc1wiKTtcblxuICAgIG1haW5DYXJkLmFwcGVuZENoaWxkKHNvbmdJbWcpO1xuICAgIG1haW5DYXJkLmFwcGVuZENoaWxkKGJveCk7XG5cbiAgICByZXR1cm4gbWFpbkNhcmQ7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBtYWtlTXVzaWNDYXJkcztcbiIsImltcG9ydCBzb25nTGlzdCBmcm9tIFwiLi4vU29uZ3NMaXN0L3NvbmdzRGF0YVwiO1xuXG5jb25zdCBidWlsZFNvbmdJbmZvID0gKGluZGV4KSA9PiB7XG4gICAgY29uc3QgZGF0YSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgZGF0YS5jbGFzc0xpc3QgPSBcInNvbmdEYXRhXCI7XG5cbiAgICBjb25zdCBzb25nSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICBzb25nSW1nLmNsYXNzTGlzdCA9IFwibWFpbkltZ1wiO1xuICAgIHNvbmdJbWcuc2V0QXR0cmlidXRlKFwic3JjXCIsIHNvbmdMaXN0W2luZGV4XS5pbWFnZVNyYyk7XG5cbiAgICBjb25zdCBzb25nTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgc29uZ05hbWUuY2xhc3NMaXN0ID0gXCJzb25nTmFtZVwiO1xuICAgIHNvbmdOYW1lLnRleHRDb250ZW50ID0gc29uZ0xpc3RbaW5kZXhdLm5hbWU7XG5cbiAgICBjb25zdCBzb25nV3JpdGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBzb25nV3JpdGVyLmNsYXNzTGlzdCA9IFwiYXJ0aXN0XCI7XG4gICAgc29uZ1dyaXRlci50ZXh0Q29udGVudCA9IHNvbmdMaXN0W2luZGV4XS5hcnRpc3Q7XG5cbiAgICBkYXRhLmFwcGVuZENoaWxkKHNvbmdJbWcpO1xuICAgIGRhdGEuYXBwZW5kQ2hpbGQoc29uZ05hbWUpO1xuICAgIGRhdGEuYXBwZW5kQ2hpbGQoc29uZ1dyaXRlcik7XG5cbiAgICByZXR1cm4gZGF0YTtcbn07XG5cbmNvbnN0IGdldFNvbmdEZXRhaWxzID0gKGluZGV4KSA9PiB7XG4gICAgY29uc3QgbWFpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpblwiKTtcblxuICAgIGlmIChtYWluLmxhc3RDaGlsZC5jbGFzc05hbWUgPT0gXCJzb25nRGF0YVwiKSB7XG4gICAgICAgIG1haW4ucmVtb3ZlQ2hpbGQobWFpbi5sYXN0Q2hpbGQpO1xuICAgIH1cbiAgICBtYWluLmFwcGVuZENoaWxkKGJ1aWxkU29uZ0luZm8oaW5kZXgpKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGdldFNvbmdEZXRhaWxzO1xuIiwiaW1wb3J0IHNvbmdMaXN0IGZyb20gXCIuLi9Tb25nc0xpc3Qvc29uZ3NEYXRhXCI7XG5pbXBvcnQgZ2V0U29uZ0RldGFpbHMgZnJvbSBcIi4vYnVpbGRDdXJyZW50TXVzaWNDYXJkXCI7XG5cbmNvbnN0IGFkZENvbnRyb2xzRnVuY3Rpb25hbGl0eSA9IChpbmRleCkgPT4ge1xuICAgIGxldCBjdXJyZW50U29uZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYXVkaW9FbGVtZW50XCIpO1xuICAgIGxldCBwbGF5QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGF5QnRuXCIpO1xuICAgIGxldCBwbGF5QnRuSW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGF5QnRuSW1nXCIpO1xuICAgIGNvbnN0IHZvbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudm9sdW1lXCIpO1xuICAgIGxldCBjdXJyVGltZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY3VyclRpbWVcIik7XG4gICAgY29uc3QgdG90YWxUaW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50b3RhbFRpbWVcIik7XG4gICAgY29uc3QgbXVzaWNHaWYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm11c2ljLWdpZlwiKTtcblxuICAgIGN1cnJlbnRTb25nLnNldEF0dHJpYnV0ZShcInNyY1wiLCBzb25nTGlzdFtpbmRleF0uc29uZ1NyYyk7XG4gICAgcGxheUJ0bkltZy5zcmMgPSBcIi9pY29ucy9wYXVzZS1zdmdyZXBvLWNvbS5zdmdcIjtcblxuICAgIGxldCBwbGF5UHJvbWlzZSA9IGN1cnJlbnRTb25nLnBsYXkoKTtcblxuICAgIGlmIChwbGF5UHJvbWlzZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHBsYXlQcm9taXNlXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgY3VycmVudFNvbmcucGxheSgpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICBhbGVydChlcnJvcik7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBtdXNpY0dpZi5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgXCIvaWNvbnMvTXVzaWMuZ2lmXCIpO1xuXG4gICAgcGxheUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBpZiAoY3VycmVudFNvbmcucGF1c2VkKSB7XG4gICAgICAgICAgICBjdXJyZW50U29uZy5wbGF5KCk7XG4gICAgICAgICAgICBwbGF5QnRuSW1nLnNyYyA9IFwiL2ljb25zL3BhdXNlLXN2Z3JlcG8tY29tLnN2Z1wiO1xuICAgICAgICAgICAgbXVzaWNHaWYuc3R5bGUub3BhY2l0eSA9IFwiMVwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY3VycmVudFNvbmcucGF1c2UoKTtcbiAgICAgICAgICAgIHBsYXlCdG5JbWcuc3JjID0gXCIvaWNvbnMvcGxheS1zdmdyZXBvLWNvbS5zdmdcIjtcbiAgICAgICAgICAgIG11c2ljR2lmLnN0eWxlLm9wYWNpdHkgPSBcIjBcIjtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29uc3QgbXVzaWNCYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm11c2ljQmFyXCIpO1xuXG4gICAgY3VycmVudFNvbmcuYWRkRXZlbnRMaXN0ZW5lcihcInRpbWV1cGRhdGVcIiwgKCkgPT4ge1xuICAgICAgICAvL2dldCB2YWx1ZSBpbiBwZXJjZW50XG4gICAgICAgIGlmIChjdXJyZW50U29uZy5jdXJyZW50VGltZSA9PSBjdXJyZW50U29uZy5kdXJhdGlvbikge1xuICAgICAgICAgICAgaWYgKGluZGV4ID09IHNvbmdMaXN0Lmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICBpbmRleCA9IDA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnZXRTb25nRGV0YWlscyhpbmRleCk7XG4gICAgICAgICAgICBjdXJyZW50U29uZy5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgc29uZ0xpc3RbaW5kZXhdLnNvbmdTcmMpO1xuXG4gICAgICAgICAgICBsZXQgcGxheVByb21pc2UgPSBjdXJyZW50U29uZy5wbGF5KCk7XG5cbiAgICAgICAgICAgIGlmIChwbGF5UHJvbWlzZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcGxheVByb21pc2VcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFNvbmcucGxheSgpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbGVydChlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBzb25nUHJvZ3Jlc3MgPVxuICAgICAgICAgICAgKGN1cnJlbnRTb25nLmN1cnJlbnRUaW1lIC8gY3VycmVudFNvbmcuZHVyYXRpb24pICogMTAwO1xuXG4gICAgICAgIG11c2ljQmFyLnZhbHVlID0gc29uZ1Byb2dyZXNzO1xuXG4gICAgICAgIGxldCB0aW1lSW5NaW5zID0gTWF0aC5mbG9vcihjdXJyZW50U29uZy5jdXJyZW50VGltZSAvIDYwKTtcbiAgICAgICAgbGV0IHRpbWVJblNlYyA9IE1hdGguZmxvb3IoY3VycmVudFNvbmcuY3VycmVudFRpbWUgJSA2MCk7XG5cbiAgICAgICAgbGV0IGJlZk1pbiA9IFwiXCIsXG4gICAgICAgICAgICBiZWZTZWMgPSBcIlwiO1xuICAgICAgICBpZiAodGltZUluTWlucyAvIDEwID09IDApIHtcbiAgICAgICAgICAgIGJlZk1pbiA9IFwiMFwiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChNYXRoLmZsb29yKHRpbWVJblNlYyAvIDEwKSA9PSAwKSB7XG4gICAgICAgICAgICBiZWZTZWMgPSBcIjBcIjtcbiAgICAgICAgfVxuICAgICAgICBjdXJyVGltZS50ZXh0Q29udGVudCA9IGJlZk1pbiArIHRpbWVJbk1pbnMgKyBcIjpcIiArIGJlZlNlYyArIHRpbWVJblNlYztcblxuICAgICAgICBsZXQgaW5NaW5zID0gTWF0aC5mbG9vcihjdXJyZW50U29uZy5kdXJhdGlvbiAvIDYwKTtcbiAgICAgICAgbGV0IGluU2VjID0gTWF0aC5mbG9vcihjdXJyZW50U29uZy5kdXJhdGlvbiAlIDYwKTtcblxuICAgICAgICBsZXQgYmVmTWlucyA9IFwiXCIsXG4gICAgICAgICAgICBiZWZTZWNzID0gXCJcIjtcbiAgICAgICAgaWYgKGluTWlucyAvIDEwID09IDApIHtcbiAgICAgICAgICAgIGJlZk1pbnMgPSBcIjBcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoTWF0aC5mbG9vcihpblNlYyAvIDEwKSA9PSAwKSB7XG4gICAgICAgICAgICBiZWZTZWNzID0gXCIwXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE51bWJlci5pc05hTihpbk1pbnMpID09IGZhbHNlKVxuICAgICAgICAgICAgdG90YWxUaW1lLnRleHRDb250ZW50ID0gYmVmTWlucyArIGluTWlucyArIFwiOlwiICsgYmVmU2VjcyArIGluU2VjO1xuICAgICAgICBlbHNlIHRvdGFsVGltZS50ZXh0Q29udGVudCA9IFwiMDA6MDBcIjtcbiAgICB9KTtcblxuICAgIG11c2ljQmFyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgICBjdXJyZW50U29uZy5jdXJyZW50VGltZSA9XG4gICAgICAgICAgICAoZS5vZmZzZXRYIC8gZS5zcmNFbGVtZW50LmNsaWVudFdpZHRoKSAqIGN1cnJlbnRTb25nLmR1cmF0aW9uO1xuICAgIH0pO1xuXG4gICAgY29uc3QgcHJldkJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJldkJ0blwiKTtcbiAgICBjb25zdCBuZXh0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uZXh0QnRuXCIpO1xuXG4gICAgbmV4dEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBpZiAoY3VycmVudFNvbmcucGF1c2VkKSB7XG4gICAgICAgICAgICBwbGF5QnRuSW1nLnNyYyA9IFwiL2ljb25zL3BhdXNlLXN2Z3JlcG8tY29tLnN2Z1wiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbmRleCA9PSBzb25nTGlzdC5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICBpbmRleCA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICB9XG4gICAgICAgIGdldFNvbmdEZXRhaWxzKGluZGV4KTtcbiAgICAgICAgY3VycmVudFNvbmcuc2V0QXR0cmlidXRlKFwic3JjXCIsIHNvbmdMaXN0W2luZGV4XS5zb25nU3JjKTtcblxuICAgICAgICBsZXQgcGxheVByb21pc2UgPSBjdXJyZW50U29uZy5wbGF5KCk7XG5cbiAgICAgICAgaWYgKHBsYXlQcm9taXNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBsYXlQcm9taXNlXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50U29uZy5wbGF5KCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KGVycm9yKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcHJldkJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBpZiAoY3VycmVudFNvbmcucGF1c2VkKSB7XG4gICAgICAgICAgICBwbGF5QnRuSW1nLnNyYyA9IFwiL2ljb25zL3BhdXNlLXN2Z3JlcG8tY29tLnN2Z1wiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbmRleCA9PSAwKSB7XG4gICAgICAgICAgICBpbmRleCA9IHNvbmdMaXN0Lmxlbmd0aCAtIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbmRleC0tO1xuICAgICAgICB9XG4gICAgICAgIGdldFNvbmdEZXRhaWxzKGluZGV4KTtcbiAgICAgICAgY3VycmVudFNvbmcuc2V0QXR0cmlidXRlKFwic3JjXCIsIHNvbmdMaXN0W2luZGV4XS5zb25nU3JjKTtcblxuICAgICAgICBsZXQgcGxheVByb21pc2UgPSBjdXJyZW50U29uZy5wbGF5KCk7XG5cbiAgICAgICAgaWYgKHBsYXlQcm9taXNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBsYXlQcm9taXNlXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50U29uZy5wbGF5KCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KGVycm9yKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdm9sLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgICBjdXJyZW50U29uZy52b2x1bWUgPSBlLm9mZnNldFggLyBlLnNyY0VsZW1lbnQuY2xpZW50V2lkdGg7XG4gICAgfSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBhZGRDb250cm9sc0Z1bmN0aW9uYWxpdHk7XG4iLCJpbXBvcnQgc29uZ0xpc3QgZnJvbSBcIi4vU29uZ3NMaXN0L3NvbmdzRGF0YVwiO1xuaW1wb3J0IG1ha2VNdXNpY0NhcmRzIGZyb20gXCIuL0Z1bmN0aW9uYWxpdGllcy9tYWtlTXVzaWNDYXJkc1wiO1xuaW1wb3J0IGJ1aWxkUGxheWVyIGZyb20gXCIuL0Z1bmN0aW9uYWxpdGllcy9idWlsZE11c2ljUGxheWVyXCI7XG5pbXBvcnQgYWRkRnVuY3Rpb25hbGl0eVRvQ2FyZHNPbk11c2ljUGFnZSBmcm9tIFwiLi9Vc2VyIEludGVyZmFjZS9tdXNpY1BhZ2VVSVwiO1xuXG5jb25zdCBhZGRDYXJkcyA9ICgpID0+IHtcbiAgICBjb25zdCBjYXJkc0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgY2FyZHNDb250YWluZXIuY2xhc3NMaXN0ID0gXCJzb25nQ2FyZHNcIjtcblxuICAgIHJldHVybiBjYXJkc0NvbnRhaW5lcjtcbn07XG5cbmNvbnN0IGJ1aWxkQ29udGVudEltZyA9IChzb3VyY2UpID0+IHtcbiAgICBjb25zdCBob21lQmdJbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgIGhvbWVCZ0ltZy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNvbnRlbnQtaW1nXCIpO1xuICAgIGhvbWVCZ0ltZy5zcmMgPSBzb3VyY2U7XG5cbiAgICByZXR1cm4gaG9tZUJnSW1nO1xufTtcblxuY29uc3QgbG9hZE11c2ljUGFnZSA9ICgpID0+IHtcbiAgICBjb25zdCBtYWluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluXCIpO1xuXG4gICAgd2hpbGUgKG1haW4uaGFzQ2hpbGROb2RlcygpKSB7XG4gICAgICAgIG1haW4ucmVtb3ZlQ2hpbGQobWFpbi5maXJzdENoaWxkKTtcbiAgICB9XG5cbiAgICAvLyBob21lLWJhY2tncm91bmQgaW1hZ2Ugc3JjXG4gICAgY29uc3QgaWxsdXNTcmMgPSBcIi9JbGx1c3RyYXRpb25zL3JvY2tzdGFyLnN2Z1wiO1xuXG4gICAgY29uc3QgY2FyZHNDb250YWluZXIgPSBhZGRDYXJkcygpO1xuXG4gICAgbGV0IGluZGV4ID0gMztcbiAgICB3aGlsZSAoaW5kZXggPCA2KSB7XG4gICAgICAgIGNvbnN0IHNyYyA9IHNvbmdMaXN0W2luZGV4XS5pbWFnZVNyYztcbiAgICAgICAgY29uc3QgbmFtZSA9IHNvbmdMaXN0W2luZGV4XS5uYW1lO1xuICAgICAgICBjb25zdCBhcnRpc3QgPSBzb25nTGlzdFtpbmRleF0uYXJ0aXN0O1xuXG4gICAgICAgIGNvbnN0IGNhcmQgPSBtYWtlTXVzaWNDYXJkcyhzcmMsIG5hbWUsIGFydGlzdCwgaW5kZXggKyAxKTtcbiAgICAgICAgY2FyZHNDb250YWluZXIuYXBwZW5kQ2hpbGQoY2FyZCk7XG5cbiAgICAgICAgaW5kZXgrKztcbiAgICB9XG5cbiAgICBjb25zdCBiZ0ltYWdlID0gYnVpbGRDb250ZW50SW1nKGlsbHVzU3JjKTtcblxuICAgIGNvbnN0IG11c2ljUGxheWVyID0gYnVpbGRQbGF5ZXIoKTtcblxuICAgIG1haW4uYXBwZW5kQ2hpbGQoYmdJbWFnZSk7XG4gICAgbWFpbi5hcHBlbmRDaGlsZChjYXJkc0NvbnRhaW5lcik7XG4gICAgbWFpbi5hcHBlbmRDaGlsZChtdXNpY1BsYXllcik7XG5cbiAgICBhZGRGdW5jdGlvbmFsaXR5VG9DYXJkc09uTXVzaWNQYWdlKCk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBsb2FkTXVzaWNQYWdlO1xuIiwiY29uc3QgYWRkQXVkaW9FbGVtZW50ID0gKCkgPT4ge1xuICAgIGxldCBhdWRpbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhdWRpb1wiKTtcbiAgICBhdWRpby5jbGFzc0xpc3QgPSBcImF1ZGlvRWxlbWVudFwiO1xuICAgIGF1ZGlvLnNyYyA9IFwiXCI7XG5cbiAgICByZXR1cm4gYXVkaW87XG59O1xuXG5jb25zdCBhZGRNdXNpY1JhbmdlQmFyID0gKCkgPT4ge1xuICAgIGNvbnN0IHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgIHJhbmdlLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJyYW5nZVwiKTtcbiAgICByYW5nZS5jbGFzc0xpc3QgPSBcIm11c2ljQmFyXCI7XG4gICAgcmFuZ2UudmFsdWUgPSAwO1xuXG4gICAgcmV0dXJuIHJhbmdlO1xufTtcblxuY29uc3QgYWRkU29uZ0luZm8gPSAoKSA9PiB7XG4gICAgY29uc3QgaW5mbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgaW5mby5jbGFzc0xpc3QgPSBcInNvbmdEZXRhaWxcIjtcblxuICAgIGNvbnN0IGdpZiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgY29uc3QgZHVyYXRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXG4gICAgbGV0IGN1cnJUaW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBsZXQgdG90YWxUaW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblxuICAgIGN1cnJUaW1lLmNsYXNzTGlzdCA9IFwiY3VyclRpbWVcIjtcbiAgICB0b3RhbFRpbWUuY2xhc3NMaXN0ID0gXCJ0b3RhbFRpbWVcIjtcblxuICAgIGdpZi5jbGFzc0xpc3QgPSBcIm11c2ljLWdpZlwiO1xuICAgIGR1cmF0aW9uLmNsYXNzTGlzdCA9IFwiZHVyYXRpb25cIjtcblxuICAgIGR1cmF0aW9uLmFwcGVuZENoaWxkKGN1cnJUaW1lKTtcbiAgICBkdXJhdGlvbi5hcHBlbmRDaGlsZCh0b3RhbFRpbWUpO1xuXG4gICAgZ2lmLnNyYyA9IFwiXCI7XG5cbiAgICBpbmZvLmFwcGVuZENoaWxkKGdpZik7XG4gICAgaW5mby5hcHBlbmRDaGlsZChkdXJhdGlvbik7XG5cbiAgICByZXR1cm4gaW5mbztcbn07XG5cbmNvbnN0IGFkZENvbnRyb2xzID0gKCkgPT4ge1xuICAgIGNvbnN0IGNvbnRyb2xzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblxuICAgIGNvbnN0IHByZXZCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGNvbnN0IG5leHRCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGNvbnN0IHBsYXlCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXG4gICAgY29uc3Qgdm9sSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICBjb25zdCB2b2x1bWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgdm9sdW1lLnZhbHVlID0gMTAwO1xuXG4gICAgY29uc3QgcHJldkJ0bkltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgY29uc3QgbmV4dEJ0bkltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgY29uc3QgcGxheUJ0bkltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG5cbiAgICBwcmV2QnRuSW1nLnNyYyA9IFwiL2ljb25zL2JhY2stcmV0dXJuLXN2Z3JlcG8tY29tLnN2Z1wiO1xuICAgIG5leHRCdG5JbWcuc3JjID0gXCIvaWNvbnMvbmV4dC1zdmdyZXBvLWNvbS5zdmdcIjtcbiAgICBwbGF5QnRuSW1nLnNyYyA9IFwiXCI7XG5cbiAgICBwbGF5QnRuSW1nLmNsYXNzTGlzdC5hZGQoXCJwbGF5QnRuSW1nXCIsIFwiY29udHJvbC1pbWdcIik7XG4gICAgbmV4dEJ0bkltZy5jbGFzc0xpc3QuYWRkKFwibmV4dEJ0bkltZ1wiLCBcImNvbnRyb2wtaW1nXCIpO1xuICAgIHByZXZCdG5JbWcuY2xhc3NMaXN0LmFkZChcInByZXZCdG5JbWdcIiwgXCJjb250cm9sLWltZ1wiKTtcblxuICAgIHByZXZCdG4uY2xhc3NMaXN0LmFkZChcInByZXZCdG5cIiwgXCJjb250cm9sQnRuXCIpO1xuICAgIHBsYXlCdG4uY2xhc3NMaXN0LmFkZChcInBsYXlCdG5cIiwgXCJjb250cm9sQnRuXCIpO1xuICAgIG5leHRCdG4uY2xhc3NMaXN0LmFkZChcIm5leHRCdG5cIiwgXCJjb250cm9sQnRuXCIpO1xuXG4gICAgcHJldkJ0bi5hcHBlbmRDaGlsZChwcmV2QnRuSW1nKTtcbiAgICBwbGF5QnRuLmFwcGVuZENoaWxkKHBsYXlCdG5JbWcpO1xuICAgIG5leHRCdG4uYXBwZW5kQ2hpbGQobmV4dEJ0bkltZyk7XG5cbiAgICB2b2xJbWcuY2xhc3NMaXN0ID0gXCJ2b2xJbWdcIjtcbiAgICB2b2xJbWcuc3JjID0gXCIvaWNvbnMvdm9sdW1lLXN2Z3JlcG8tY29tICgzKS5zdmdcIjtcbiAgICB2b2x1bWUuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInJhbmdlXCIpO1xuICAgIHZvbHVtZS5jbGFzc0xpc3QgPSBcInZvbHVtZVwiO1xuXG4gICAgY29udHJvbHMuY2xhc3NMaXN0ID0gXCJjb250cm9sc1wiO1xuXG4gICAgY29udHJvbHMuYXBwZW5kQ2hpbGQocHJldkJ0bik7XG4gICAgY29udHJvbHMuYXBwZW5kQ2hpbGQocGxheUJ0bik7XG4gICAgY29udHJvbHMuYXBwZW5kQ2hpbGQobmV4dEJ0bik7XG4gICAgY29udHJvbHMuYXBwZW5kQ2hpbGQodm9sSW1nKTtcbiAgICBjb250cm9scy5hcHBlbmRDaGlsZCh2b2x1bWUpO1xuXG4gICAgcmV0dXJuIGNvbnRyb2xzO1xufTtcblxuY29uc3QgYnVpbGRQbGF5ZXIgPSAoKSA9PiB7XG4gICAgY29uc3QgbWVkaWFQbGF5ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIG1lZGlhUGxheWVyLmNsYXNzTGlzdCA9IFwibWVkaWFQbGF5ZXJcIjtcblxuICAgIG1lZGlhUGxheWVyLmFwcGVuZENoaWxkKGFkZEF1ZGlvRWxlbWVudCgpKTtcbiAgICBtZWRpYVBsYXllci5hcHBlbmRDaGlsZChhZGRTb25nSW5mbygpKTtcbiAgICBtZWRpYVBsYXllci5hcHBlbmRDaGlsZChhZGRNdXNpY1JhbmdlQmFyKCkpO1xuICAgIG1lZGlhUGxheWVyLmFwcGVuZENoaWxkKGFkZENvbnRyb2xzKCkpO1xuXG4gICAgcmV0dXJuIG1lZGlhUGxheWVyO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgYnVpbGRQbGF5ZXI7XG4iLCJpbXBvcnQgc29uZ0xpc3QgZnJvbSBcIi4uL1NvbmdzTGlzdC9zb25nc0RhdGFcIjtcbmltcG9ydCBhZGRDb250cm9sc0Z1bmN0aW9uYWxpdHkgZnJvbSBcIi4uL0Z1bmN0aW9uYWxpdGllcy9wbGF5TXVzaWNcIjtcbmltcG9ydCBnZXRTb25nRGV0YWlscyBmcm9tIFwiLi4vRnVuY3Rpb25hbGl0aWVzL2J1aWxkQ3VycmVudE11c2ljQ2FyZFwiO1xuaW1wb3J0IGxvYWRNdXNpY1BhZ2UgZnJvbSBcIi4uL211c2ljUGFnZVwiO1xuXG5jb25zdCBhZGRGdW5jdGlvbmFsaXR5VG9DYXJkc09uTXVzaWNQYWdlID0gKCkgPT4ge1xuICAgIGNvbnN0IGNhcmRzUGFyZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zb25nQ2FyZHNcIik7XG5cbiAgICBjYXJkc1BhcmVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICAgICAgaWYgKGUudGFyZ2V0LnBhcmVudEVsZW1lbnQuY2xhc3NOYW1lID09IFwiY2FyZHNcIikge1xuICAgICAgICAgICAgY29uc3Qgc29uZ05hbWUgPVxuICAgICAgICAgICAgICAgIGUudGFyZ2V0LnBhcmVudEVsZW1lbnQuY2hpbGRyZW5bMV0uY2hpbGRyZW5bMF0udGV4dENvbnRlbnQ7XG5cbiAgICAgICAgICAgIGxldCBzb25nSW5kZXg7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNvbmdMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNvbmdMaXN0W2ldLm5hbWUgPT0gc29uZ05hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgc29uZ0luZGV4ID0gaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsb2FkTXVzaWNQYWdlKCk7XG4gICAgICAgICAgICBnZXRTb25nRGV0YWlscyhzb25nSW5kZXgpO1xuICAgICAgICAgICAgYWRkQ29udHJvbHNGdW5jdGlvbmFsaXR5KHNvbmdJbmRleCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGFkZEZ1bmN0aW9uYWxpdHlUb0NhcmRzT25NdXNpY1BhZ2U7XG4iLCJpbXBvcnQgbG9hZE11c2ljUGFnZSBmcm9tIFwiLi4vbXVzaWNQYWdlXCI7XG5pbXBvcnQgc29uZ0xpc3QgZnJvbSBcIi4uL1NvbmdzTGlzdC9zb25nc0RhdGFcIjtcbmltcG9ydCBhZGRDb250cm9sc0Z1bmN0aW9uYWxpdHkgZnJvbSBcIi4uL0Z1bmN0aW9uYWxpdGllcy9wbGF5TXVzaWNcIjtcbmltcG9ydCBnZXRTb25nRGV0YWlscyBmcm9tIFwiLi4vRnVuY3Rpb25hbGl0aWVzL2J1aWxkQ3VycmVudE11c2ljQ2FyZFwiO1xuaW1wb3J0IGdldFNlYXJjaERhdGEgZnJvbSBcIi4uL0Z1bmN0aW9uYWxpdGllcy9zZWFyY2hCYXJcIjtcblxuY29uc3QgZ2V0Q2xpY2tlZCA9IChlKSA9PiB7XG4gICAgaWYgKGUudGFyZ2V0LnBhcmVudEVsZW1lbnQuY2xhc3NOYW1lID09IFwiY2FyZHNcIikge1xuICAgICAgICBjb25zdCBzb25nTmFtZSA9XG4gICAgICAgICAgICBlLnRhcmdldC5wYXJlbnRFbGVtZW50LmNoaWxkcmVuWzFdLmNoaWxkcmVuWzBdLnRleHRDb250ZW50O1xuXG4gICAgICAgIGxldCBzb25nSW5kZXg7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc29uZ0xpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChzb25nTGlzdFtpXS5uYW1lID09IHNvbmdOYW1lKSB7XG4gICAgICAgICAgICAgICAgc29uZ0luZGV4ID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsb2FkTXVzaWNQYWdlKCk7XG4gICAgICAgIGdldFNvbmdEZXRhaWxzKHNvbmdJbmRleCk7XG4gICAgICAgIGFkZENvbnRyb2xzRnVuY3Rpb25hbGl0eShzb25nSW5kZXgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG59O1xuXG5jb25zdCBhZGRGdW5jdGlvbmFsaXR5VG9Ib21lRWxlbWVudHMgPSAoKSA9PiB7XG4gICAgY29uc3QgY2FyZHNQYXJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm11c2ljLWNhcmRzXCIpO1xuXG4gICAgY2FyZHNQYXJlbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGdldENsaWNrZWQpO1xuXG4gICAgZ2V0U2VhcmNoRGF0YSgpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgYWRkRnVuY3Rpb25hbGl0eVRvSG9tZUVsZW1lbnRzO1xuIiwiaW1wb3J0IHNvbmdMaXN0IGZyb20gXCIuLi9Tb25nc0xpc3Qvc29uZ3NEYXRhXCI7XG5pbXBvcnQgbG9hZE11c2ljUGFnZSBmcm9tIFwiLi4vbXVzaWNQYWdlXCI7XG5pbXBvcnQgZ2V0U29uZ0RldGFpbHMgZnJvbSBcIi4vYnVpbGRDdXJyZW50TXVzaWNDYXJkXCI7XG5pbXBvcnQgYWRkQ29udHJvbHNGdW5jdGlvbmFsaXR5IGZyb20gXCIuL3BsYXlNdXNpY1wiO1xuXG5jb25zdCBnZXRTZWFyY2hEYXRhID0gKCkgPT4ge1xuICAgIGNvbnN0IHNlYXJjaEJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VhcmNoLWJhclwiKTtcblxuICAgIGxldCBzZWFyY2hSZXN1bHRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yZXN1bHRzXCIpO1xuXG4gICAgY29uc3Qgc2VhcmNoQm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZWFyY2hCb3hcIik7XG5cbiAgICBzZWFyY2hCYXIuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsICgpID0+IHt9KTtcblxuICAgIHNlYXJjaEJhci5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKGUpID0+IHtcbiAgICAgICAgbGV0IGlucHV0QnlVc2VyID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgIGlucHV0QnlVc2VyID0gaW5wdXRCeVVzZXIudG9Mb3dlckNhc2UoKTtcblxuICAgICAgICBpZiAoaW5wdXRCeVVzZXIgPT0gXCJcIikge1xuICAgICAgICAgICAgd2hpbGUgKHNlYXJjaFJlc3VsdHMuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgICAgIHNlYXJjaFJlc3VsdHMucmVtb3ZlQ2hpbGQoc2VhcmNoUmVzdWx0cy5maXJzdENoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoc2VhcmNoUmVzdWx0cy5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICBzZWFyY2hSZXN1bHRzLnJlbW92ZUNoaWxkKHNlYXJjaFJlc3VsdHMuZmlyc3RDaGlsZCk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgc29uZ0xpc3QubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICBsZXQgZ2V0TmFtZSA9IHNvbmdMaXN0W2luZGV4XS5uYW1lO1xuICAgICAgICAgICAgZ2V0TmFtZSA9IGdldE5hbWUudG9Mb3dlckNhc2UoKTtcblxuICAgICAgICAgICAgaWYgKGdldE5hbWUuaW5jbHVkZXMoaW5wdXRCeVVzZXIpKSB7XG4gICAgICAgICAgICAgICAgbGV0IG1hdGNoZWRTdHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgIG1hdGNoZWRTdHIuY2xhc3NMaXN0ID0gXCJtYXRjaGVkU3RyXCI7XG5cbiAgICAgICAgICAgICAgICBsZXQgaW5wdXROYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICBpbnB1dE5hbWUuY2xhc3NMaXN0ID0gXCJpbnB1dE5hbWVcIjtcblxuICAgICAgICAgICAgICAgIGxldCBpbnB1dEFydGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgaW5wdXRBcnRpc3QuY2xhc3NMaXN0ID0gXCJpbnB1dEFydGlzdFwiO1xuXG4gICAgICAgICAgICAgICAgaW5wdXROYW1lLnRleHRDb250ZW50ID0gc29uZ0xpc3RbaW5kZXhdLm5hbWU7XG4gICAgICAgICAgICAgICAgaW5wdXRBcnRpc3QudGV4dENvbnRlbnQgPSBzb25nTGlzdFtpbmRleF0uYXJ0aXN0O1xuXG4gICAgICAgICAgICAgICAgbWF0Y2hlZFN0ci5hcHBlbmRDaGlsZChpbnB1dE5hbWUpO1xuICAgICAgICAgICAgICAgIG1hdGNoZWRTdHIuYXBwZW5kQ2hpbGQoaW5wdXRBcnRpc3QpO1xuXG4gICAgICAgICAgICAgICAgc2VhcmNoUmVzdWx0cy5hcHBlbmRDaGlsZChtYXRjaGVkU3RyKTtcblxuICAgICAgICAgICAgICAgIHNlYXJjaEJveC5hcHBlbmRDaGlsZChzZWFyY2hSZXN1bHRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBhbGxSZXN1bHRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tYXRjaGVkU3RyXCIpO1xuXG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBhbGxSZXN1bHRzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgYWxsUmVzdWx0c1tpbmRleF0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgaW5kZXhJblNvbmdMaXN0O1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHNvbmdMaXN0Lmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsUmVzdWx0c1tpbmRleF0uZmlyc3RDaGlsZC50ZXh0Q29udGVudCA9PVxuICAgICAgICAgICAgICAgICAgICAgICAgc29uZ0xpc3RbaWR4XS5uYW1lXG4gICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXhJblNvbmdMaXN0ID0gaWR4O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxvYWRNdXNpY1BhZ2UoKTtcbiAgICAgICAgICAgICAgICBnZXRTb25nRGV0YWlscyhpbmRleEluU29uZ0xpc3QpO1xuICAgICAgICAgICAgICAgIGFkZENvbnRyb2xzRnVuY3Rpb25hbGl0eShpbmRleEluU29uZ0xpc3QpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGdldFNlYXJjaERhdGE7XG4iLCJpbXBvcnQgc29uZ0xpc3QgZnJvbSBcIi4vU29uZ3NMaXN0L3NvbmdzRGF0YVwiO1xuaW1wb3J0IG1ha2VNdXNpY0NhcmRzIGZyb20gXCIuL0Z1bmN0aW9uYWxpdGllcy9tYWtlTXVzaWNDYXJkc1wiO1xuaW1wb3J0IGFkZEZ1bmN0aW9uYWxpdHlUb0hvbWVFbGVtZW50cyBmcm9tIFwiLi9Vc2VyIEludGVyZmFjZS9ob21lVUlcIjtcblxuY29uc3QgYnVpbGRDb250ZW50ID0gKCkgPT4ge1xuICAgIGNvbnN0IGRhdGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGRhdGEuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjb250ZW50LWRhdGFcIik7XG4gICAgZGF0YS50ZXh0Q29udGVudCA9IFwiR2V0IHJlYWR5IHRvIGVuam95IHRoZSBleHBlcmllbmNlIVwiO1xuXG4gICAgcmV0dXJuIGRhdGE7XG59O1xuXG5jb25zdCBnZXRTb25nc0xpc3QgPSAoKSA9PiB7XG4gICAgY29uc3QgbGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgbGlzdC5jbGFzc0xpc3QgPSBcImxpc3Qtb2Ytc29uZ3NcIjtcblxuICAgIHJldHVybiBsaXN0O1xufTtcblxuY29uc3QgYWRkQ2FyZHMgPSAoKSA9PiB7XG4gICAgY29uc3QgY2FyZHNDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGNhcmRzQ29udGFpbmVyLmNsYXNzTGlzdCA9IFwibXVzaWMtY2FyZHNcIjtcblxuICAgIHJldHVybiBjYXJkc0NvbnRhaW5lcjtcbn07XG5cbmNvbnN0IGFkZFNlYXJjaEJhciA9ICgpID0+IHtcbiAgICBjb25zdCBzZWFyY2hCb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHNlYXJjaEJveC5jbGFzc0xpc3QgPSBcInNlYXJjaEJveFwiO1xuXG4gICAgY29uc3QgYmFyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgIGJhci5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwic2VhcmNoXCIpO1xuICAgIGJhci5jbGFzc0xpc3QgPSBcInNlYXJjaC1iYXJcIjtcblxuICAgIGNvbnN0IHJlc3VsdHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHJlc3VsdHMuY2xhc3NMaXN0ID0gXCJyZXN1bHRzXCI7XG5cbiAgICBjb25zdCBzZWFyY2hJY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICBzZWFyY2hJY29uLmNsYXNzTGlzdCA9IFwic2VhcmNoSWNvblwiO1xuICAgIHNlYXJjaEljb24uc3JjID0gXCIvaWNvbnMvY29sb3ItbGluZWFsLW1hZ25pZnlpbmctZ2xhc3Mtc3ZncmVwby1jb20uc3ZnXCI7XG5cbiAgICBzZWFyY2hCb3guYXBwZW5kQ2hpbGQoc2VhcmNoSWNvbik7XG4gICAgc2VhcmNoQm94LmFwcGVuZENoaWxkKGJhcik7XG4gICAgc2VhcmNoQm94LmFwcGVuZENoaWxkKHJlc3VsdHMpO1xuXG4gICAgcmV0dXJuIHNlYXJjaEJveDtcbn07XG5cbmNvbnN0IGxvYWRIb21lID0gKCkgPT4ge1xuICAgIGNvbnN0IG1haW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1haW5cIik7XG5cbiAgICB3aGlsZSAobWFpbi5oYXNDaGlsZE5vZGVzKCkpIHtcbiAgICAgICAgbWFpbi5yZW1vdmVDaGlsZChtYWluLmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIGNvbnN0IGNhcmRzQ29udGFpbmVyID0gYWRkQ2FyZHMoKTtcblxuICAgIC8vIHNvbmcncyBpbWFnZSBhbmQgbmFtZVxuICAgIGxldCBpbmRleCA9IDA7XG4gICAgd2hpbGUgKGluZGV4IDwgNikge1xuICAgICAgICBjb25zdCBzcmMgPSBzb25nTGlzdFtpbmRleF0uaW1hZ2VTcmM7XG4gICAgICAgIGNvbnN0IG5hbWUgPSBzb25nTGlzdFtpbmRleF0ubmFtZTtcbiAgICAgICAgY29uc3QgYXJ0aXN0ID0gc29uZ0xpc3RbaW5kZXhdLmFydGlzdDtcblxuICAgICAgICBjb25zdCBjYXJkID0gbWFrZU11c2ljQ2FyZHMoc3JjLCBuYW1lLCBhcnRpc3QsIGluZGV4ICsgMSk7XG4gICAgICAgIGNhcmRzQ29udGFpbmVyLmFwcGVuZENoaWxkKGNhcmQpO1xuXG4gICAgICAgIGluZGV4Kys7XG4gICAgfVxuXG4gICAgY29uc3Qgc29uZ3NMaXN0ID0gZ2V0U29uZ3NMaXN0KCk7XG5cbiAgICBzb25nc0xpc3QuYXBwZW5kQ2hpbGQoY2FyZHNDb250YWluZXIpO1xuXG4gICAgY29uc3QgaG9tZU1zZyA9IGJ1aWxkQ29udGVudCgpO1xuXG4gICAgY29uc3Qgc2VhcmNoQmFyID0gYWRkU2VhcmNoQmFyKCk7XG5cbiAgICBtYWluLmFwcGVuZENoaWxkKGhvbWVNc2cpO1xuICAgIG1haW4uYXBwZW5kQ2hpbGQoc2VhcmNoQmFyKTtcbiAgICBtYWluLmFwcGVuZENoaWxkKHNvbmdzTGlzdCk7XG5cbiAgICBhZGRGdW5jdGlvbmFsaXR5VG9Ib21lRWxlbWVudHMoKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGxvYWRIb21lO1xuIiwiaW1wb3J0IGxvYWRIb21lIGZyb20gXCIuL2hvbWVcIjtcbmltcG9ydCBsb2FkTXVzaWNQYWdlIGZyb20gXCIuL211c2ljUGFnZVwiO1xuXG5jb25zdCBsb2FkV2VicGFnZSA9ICgpID0+IHtcbiAgICBsb2FkSG9tZSgpO1xuXG4gICAgY29uc3QgaG9tZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaG9tZS1idG5cIik7XG4gICAgY29uc3QgbWVkaWFQbGF5ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm11c2ljLWxpc3QtYnRuXCIpO1xuICAgIC8vY29uc3QgcGxheWxpc3RCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwicGxheWxpc3QtYnRuXCIpO1xuXG4gICAgaG9tZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgbG9hZEhvbWUpO1xuICAgIG1lZGlhUGxheWVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBsb2FkTXVzaWNQYWdlKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGxvYWRXZWJwYWdlO1xuIiwiaW1wb3J0IGxvYWRXZWJwYWdlIGZyb20gXCIuL21vZHVsZXMvd2VicGFnZVwiO1xuXG5sb2FkV2VicGFnZSgpO1xuIl0sIm5hbWVzIjpbIm5hbWUiLCJhcnRpc3QiLCJpbWFnZVNyYyIsInNvbmdTcmMiLCJkdXJhdGlvbiIsInNvdXJjZSIsInNvbmdJbWciLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJzcmMiLCJib3giLCJzb25nTmFtZSIsInRleHRDb250ZW50IiwiYXJ0aXN0TmFtZSIsImFwcGVuZENoaWxkIiwibWFpbkNhcmQiLCJpbmRleCIsIm1haW4iLCJxdWVyeVNlbGVjdG9yIiwibGFzdENoaWxkIiwiY2xhc3NOYW1lIiwicmVtb3ZlQ2hpbGQiLCJkYXRhIiwic2V0QXR0cmlidXRlIiwic29uZ1dyaXRlciIsImJ1aWxkU29uZ0luZm8iLCJjdXJyZW50U29uZyIsInBsYXlCdG4iLCJwbGF5QnRuSW1nIiwidm9sIiwiY3VyclRpbWUiLCJ0b3RhbFRpbWUiLCJtdXNpY0dpZiIsInBsYXlQcm9taXNlIiwicGxheSIsInVuZGVmaW5lZCIsInRoZW4iLCJjYXRjaCIsImVycm9yIiwiYWxlcnQiLCJhZGRFdmVudExpc3RlbmVyIiwicGF1c2VkIiwic3R5bGUiLCJvcGFjaXR5IiwicGF1c2UiLCJtdXNpY0JhciIsImN1cnJlbnRUaW1lIiwic29uZ1Byb2dyZXNzIiwidmFsdWUiLCJ0aW1lSW5NaW5zIiwiTWF0aCIsImZsb29yIiwidGltZUluU2VjIiwiYmVmTWluIiwiYmVmU2VjIiwiaW5NaW5zIiwiaW5TZWMiLCJiZWZNaW5zIiwiYmVmU2VjcyIsIk51bWJlciIsImlzTmFOIiwiZSIsIm9mZnNldFgiLCJzcmNFbGVtZW50IiwiY2xpZW50V2lkdGgiLCJwcmV2QnRuIiwidm9sdW1lIiwiaGFzQ2hpbGROb2RlcyIsImZpcnN0Q2hpbGQiLCJjYXJkc0NvbnRhaW5lciIsImFkZENhcmRzIiwiY2FyZCIsImJnSW1hZ2UiLCJob21lQmdJbWciLCJidWlsZENvbnRlbnRJbWciLCJtdXNpY1BsYXllciIsIm1lZGlhUGxheWVyIiwiYXVkaW8iLCJhZGRBdWRpb0VsZW1lbnQiLCJpbmZvIiwiZ2lmIiwiYWRkU29uZ0luZm8iLCJyYW5nZSIsImFkZE11c2ljUmFuZ2VCYXIiLCJjb250cm9scyIsIm5leHRCdG4iLCJ2b2xJbWciLCJwcmV2QnRuSW1nIiwibmV4dEJ0bkltZyIsImFkZENvbnRyb2xzIiwidGFyZ2V0IiwicGFyZW50RWxlbWVudCIsImNoaWxkcmVuIiwic29uZ0luZGV4IiwiaSIsImdldENsaWNrZWQiLCJzZWFyY2hCYXIiLCJzZWFyY2hSZXN1bHRzIiwic2VhcmNoQm94IiwiaW5wdXRCeVVzZXIiLCJ0b0xvd2VyQ2FzZSIsImdldE5hbWUiLCJpbmNsdWRlcyIsIm1hdGNoZWRTdHIiLCJpbnB1dE5hbWUiLCJpbnB1dEFydGlzdCIsImFsbFJlc3VsdHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwibGVuZ3RoIiwiaW5kZXhJblNvbmdMaXN0IiwiaWR4Iiwic29uZ3NMaXN0IiwibGlzdCIsImdldFNvbmdzTGlzdCIsImhvbWVNc2ciLCJidWlsZENvbnRlbnQiLCJiYXIiLCJyZXN1bHRzIiwic2VhcmNoSWNvbiIsImFkZFNlYXJjaEJhciIsImhvbWVCdG4iXSwic291cmNlUm9vdCI6IiJ9