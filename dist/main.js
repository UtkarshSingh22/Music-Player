(()=>{"use strict";const e=[{name:"On & On",artist:"Cartoon x HAVSUN x WAYOUT, ft. Daniel Levi",imageSrc:"/dist/song-images/on&on.jpg",songSrc:"/dist/sample-songs/Cartoon - On & On (ft. Daniel Levi)(Cartoon x HAVSUN x WAYOUT Remix) [NCS Release].mp3",duration:"03:58"},{name:"Mortals",artist:"Warriyo, feat. Laura Brehm",imageSrc:"/dist/song-images/warriyo.jpg",songSrc:"/dist/sample-songs/Warriyo - Mortals (feat. Laura Brehm) [NCS Release].mp3",duration:"03:48"},{name:"Cradles",artist:"Sub Urban",imageSrc:"/dist/song-images/cradles.jpg",songSrc:"/dist/sample-songs/Sub Urban - Cradles [NCS Release].mp3",duration:"03:29"},{name:"Adventures",artist:"William Ekh, feat. Alexa Lusader",imageSrc:"/dist/song-images/adventures.jpg",songSrc:"/dist/sample-songs/William Ekh - Adventures (feat. Alexa Lusader) [NCS Release].mp3",duration:"03:11"},{name:"Set Me Free",artist:"Simbai & Frizzy The Streetz",imageSrc:"/dist/song-images/setmefree.jpg",songSrc:"/dist/sample-songs/Simbai & Frizzy The Streetz - Set Me Free [NCS Release].mp3",duration:"02:49"},{name:"Heroes Tonight",artist:"Janji, ft.Johnning",imageSrc:"/dist/song-images/janji.jpg",songSrc:"/dist/sample-songs/Janji - Heroes Tonight (feat. Johnning) [NCS Release].mp3",duration:"03:28"}],t=(e,t,n)=>{const s=document.createElement("img");s.classList.add("card-img"),s.src=e;const a=document.createElement("div");a.classList.add("music-name"),a.textContent=t;const c=document.createElement("div");c.classList.add("artist-name"),c.textContent=n;const i=document.createElement("div");return i.classList.add("cards"),i.appendChild(s),i.appendChild(a),i.appendChild(c),i},n=t=>{const n=document.querySelector(".main");"songData"==n.lastChild.className&&n.removeChild(n.lastChild),n.appendChild((t=>{const n=document.createElement("div");n.classList="songData";const s=document.createElement("img");s.classList="mainImg",s.setAttribute("src",e[t].imageSrc);const a=document.createElement("div");a.classList="songName",a.textContent=e[t].name;const c=document.createElement("div");return c.classList="artist",c.textContent=e[t].artist,n.appendChild(s),n.appendChild(a),n.appendChild(c),n})(t))},s=t=>{let s=document.querySelector(".audioElement"),a=document.querySelector(".playBtn"),c=document.querySelector(".playBtnImg");const i=document.querySelector(".volume");s.setAttribute("src",e[t].songSrc);let r=s.play();void 0!==r&&r.then((()=>{s.play()})).catch((e=>{})),a.addEventListener("click",(()=>{s.paused?(s.play(),c.src="/dist/icons-and-images/pause-svgrepo-com.svg"):(s.pause(),c.src="/dist/icons-and-images/play-svgrepo-com.svg")}));const d=document.querySelector(".musicBar");s.addEventListener("timeupdate",(()=>{let e=s.currentTime/s.duration*100;d.value=e})),d.addEventListener("click",(e=>{s.currentTime=e.offsetX/e.srcElement.clientWidth*s.duration}));const o=document.querySelector(".prevBtn");document.querySelector(".nextBtn").addEventListener("click",(()=>{s.paused&&(c.src="/dist/icons-and-images/pause-svgrepo-com.svg"),t==e.length-1?t=0:t++,n(t),s.setAttribute("src",e[t].songSrc);let a=s.play();void 0!==a&&a.then((()=>{s.play()})).catch((e=>{}))})),o.addEventListener("click",(()=>{s.paused&&(c.src="/dist/icons-and-images/pause-svgrepo-com.svg"),0==t?t=e.length-1:t--,n(t),s.setAttribute("src",e[t].songSrc);let a=s.play();void 0!==a&&a.then((()=>{s.play()})).catch((e=>{}))})),i.addEventListener("click",(e=>{s.volume=e.offsetX/e.srcElement.clientWidth}))},a=()=>{const c=document.querySelector(".main");for(;c.hasChildNodes();)c.removeChild(c.firstChild);const i=(()=>{const e=document.createElement("div");return e.classList="songCards",e})();let r=3;for(;r<6;){const n=e[r].imageSrc,s=e[r].name,a=e[r].artist,c=t(n,s,a);i.appendChild(c),r++}const d=(e=>{const t=document.createElement("img");return t.setAttribute("class","content-img"),t.src="",t})(),o=(()=>{const e=document.createElement("div");return e.classList="lyrics",e})(),l=(()=>{const e=document.createElement("div");return e.classList="mediaPlayer",e.appendChild((()=>{let e=document.createElement("audio");return e.classList="audioElement",e.src="",e})()),e.appendChild((()=>{const e=document.createElement("div");e.classList="songDetail";const t=document.createElement("div"),n=document.createElement("div"),s=document.createElement("img"),a=document.createElement("div");return t.classList="song-name",n.classList="artist-name",s.classList="music-gif",a.classList="duration",s.src="",e.appendChild(t),e.appendChild(n),e.appendChild(s),e.appendChild(a),e})()),e.appendChild((()=>{const e=document.createElement("input");return e.setAttribute("type","range"),e.classList="musicBar",e.value=0,e})()),e.appendChild((()=>{const e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div"),s=document.createElement("div"),a=document.createElement("input");a.value=100;const c=document.createElement("img"),i=document.createElement("img"),r=document.createElement("img");return c.src="/dist/icons-and-images/previous-svgrepo-com.svg",i.src="/dist/icons-and-images/next-svgrepo-com.svg",r.src="/dist/icons-and-images/pause-svgrepo-com.svg",r.classList.add("playBtnImg","control-img"),i.classList.add("nextBtnImg","control-img"),c.classList.add("prevBtnImg","control-img"),t.classList.add("prevBtn","controlBtn"),s.classList.add("playBtn","controlBtn"),n.classList.add("nextBtn","controlBtn"),t.appendChild(c),s.appendChild(r),n.appendChild(i),a.setAttribute("type","range"),a.classList="volume",e.classList="controls",e.appendChild(t),e.appendChild(s),e.appendChild(n),e.appendChild(a),e})()),e})();c.appendChild(d),c.appendChild(o),c.appendChild(i),c.appendChild(l),document.querySelector(".songCards").addEventListener("click",(t=>{if("cards"==t.target.parentElement.className){const c=t.target.parentElement.children[1].textContent;let i;for(let t=0;t<e.length;t++)e[t].name==c&&(i=t);a(),n(i),s(i)}}))},c=t=>{if("cards"==t.target.parentElement.className){const c=t.target.parentElement.children[1].textContent;let i;for(let t=0;t<e.length;t++)e[t].name==c&&(i=t);a(),n(i),s(i)}},i=()=>{const n=document.querySelector(".main");for(;n.hasChildNodes();)n.removeChild(n.firstChild);const s=(()=>{const e=document.createElement("div");return e.classList="music-cards",e})();let a=0;for(;a<3;){const n=e[a].imageSrc,c=e[a].name,i=e[a].artist,r=t(n,c,i);s.appendChild(r),a++}const i=(()=>{const e=document.createElement("div");return e.classList="list-head",e.textContent="Play music",e})(),r=(()=>{const e=document.createElement("div");return e.classList="list-of-songs",e})();r.appendChild(i),r.appendChild(s);const d=(e=>{const t=document.createElement("img");return t.setAttribute("class","content-img"),t.src="",t})(),o=(()=>{const e=document.createElement("div");return e.setAttribute("class","content-data"),e.textContent="Get ready to enjoy the experience!",e})(),l=(()=>{const e=document.createElement("input");return e.setAttribute("type","search"),e.classList="search-bar",e})();n.appendChild(d),n.appendChild(o),n.appendChild(l),n.appendChild(r),document.querySelector(".music-cards").addEventListener("click",c)};(()=>{i();const e=document.querySelector(".home-btn"),t=document.querySelector(".music-list-btn");e.addEventListener("click",i),t.addEventListener("click",a)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RSxZQUFjLGFBRVpvRSxHQTJDVUMsR0FFWEMsRUF6RFcsTUFDakIsTUFBTUMsRUFBTzdFLFNBQVNDLGNBQWMsT0FHcEMsT0FGQTRFLEVBQUszRSxVQUFZLGdCQUVWMkUsR0FxRFdDLEdBQ2xCRixFQUFVbkUsWUFBWWdFLEdBQ3RCRyxFQUFVbkUsWUFBWW9DLEdBRXRCLE1BQU1HLEVBN0VjLENBQUNsRCxJQUNyQixNQUFNbUQsRUFBWWpELFNBQVNDLGNBQWMsT0FJekMsT0FIQWdELEVBQVVoQyxhQUFhLFFBQVMsZUFDaENnQyxFQUFVN0MsSUFtRE8sR0FqRFY2QyxHQXdFUyxHQUNWOEIsRUF0RVcsTUFDakIsTUFBTS9ELEVBQU9oQixTQUFTQyxjQUFjLE9BSXBDLE9BSEFlLEVBQUtDLGFBQWEsUUFBUyxnQkFDM0JELEVBQUtWLFlBQWMscUNBRVpVLEdBaUVTZ0UsR0FFVkMsRUExQ1csTUFDakIsTUFBTUMsRUFBTWxGLFNBQVNDLGNBQWMsU0FJbkMsT0FIQWlGLEVBQUlqRSxhQUFhLE9BQVEsVUFDekJpRSxFQUFJaEYsVUFBWSxhQUVUZ0YsR0FxQ1dDLEdBRWxCeEUsRUFBS0YsWUFBWXVDLEdBQ2pCckMsRUFBS0YsWUFBWXNFLEdBQ2pCcEUsRUFBS0YsWUFBWXdFLEdBQ2pCdEUsRUFBS0YsWUFBWW1FLEdEaEVHNUUsU0FBU1ksY0FBYyxnQkFFL0JrQixpQkFBaUIsUUFBUzBDLElFeEJ0QixNQUNoQixJQUVBLE1BQU1ZLEVBQVVwRixTQUFTWSxjQUFjLGFBQ2pDMEMsRUFBY3RELFNBQVNZLGNBQWMsbUJBRzNDd0UsRUFBUXRELGlCQUFpQixRQUFTLEdBQ2xDd0IsRUFBWXhCLGlCQUFpQixRQUFTLElDVDFDLEkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tdXNpYy1wbGF5ZXIvLi9zcmMvbW9kdWxlcy9Tb25nc0xpc3Qvc29uZ3NEYXRhLmpzIiwid2VicGFjazovL211c2ljLXBsYXllci8uL3NyYy9tb2R1bGVzL0Z1bmN0aW9uYWxpdGllcy9tYWtlTXVzaWNDYXJkcy5qcyIsIndlYnBhY2s6Ly9tdXNpYy1wbGF5ZXIvLi9zcmMvbW9kdWxlcy9GdW5jdGlvbmFsaXRpZXMvYnVpbGRDdXJyZW50TXVzaWNDYXJkLmpzIiwid2VicGFjazovL211c2ljLXBsYXllci8uL3NyYy9tb2R1bGVzL0Z1bmN0aW9uYWxpdGllcy9wbGF5TXVzaWMuanMiLCJ3ZWJwYWNrOi8vbXVzaWMtcGxheWVyLy4vc3JjL21vZHVsZXMvbXVzaWNQYWdlLmpzIiwid2VicGFjazovL211c2ljLXBsYXllci8uL3NyYy9tb2R1bGVzL0Z1bmN0aW9uYWxpdGllcy9idWlsZE11c2ljUGxheWVyLmpzIiwid2VicGFjazovL211c2ljLXBsYXllci8uL3NyYy9tb2R1bGVzL1VzZXIgSW50ZXJmYWNlL211c2ljUGFnZVVJLmpzIiwid2VicGFjazovL211c2ljLXBsYXllci8uL3NyYy9tb2R1bGVzL1VzZXIgSW50ZXJmYWNlL2hvbWVVSS5qcyIsIndlYnBhY2s6Ly9tdXNpYy1wbGF5ZXIvLi9zcmMvbW9kdWxlcy9ob21lLmpzIiwid2VicGFjazovL211c2ljLXBsYXllci8uL3NyYy9tb2R1bGVzL3dlYnBhZ2UuanMiLCJ3ZWJwYWNrOi8vbXVzaWMtcGxheWVyLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHNvbmdMaXN0ID0gW1xuICAgIHtcbiAgICAgICAgbmFtZTogXCJPbiAmIE9uXCIsXG4gICAgICAgIGFydGlzdDogXCJDYXJ0b29uIHggSEFWU1VOIHggV0FZT1VULCBmdC4gRGFuaWVsIExldmlcIixcbiAgICAgICAgaW1hZ2VTcmM6IFwiL2Rpc3Qvc29uZy1pbWFnZXMvb24mb24uanBnXCIsXG4gICAgICAgIHNvbmdTcmM6XG4gICAgICAgICAgICBcIi9kaXN0L3NhbXBsZS1zb25ncy9DYXJ0b29uIC0gT24gJiBPbiAoZnQuIERhbmllbCBMZXZpKShDYXJ0b29uIHggSEFWU1VOIHggV0FZT1VUIFJlbWl4KSBbTkNTIFJlbGVhc2VdLm1wM1wiLFxuICAgICAgICBkdXJhdGlvbjogXCIwMzo1OFwiLFxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiBcIk1vcnRhbHNcIixcbiAgICAgICAgYXJ0aXN0OiBcIldhcnJpeW8sIGZlYXQuIExhdXJhIEJyZWhtXCIsXG4gICAgICAgIGltYWdlU3JjOiBcIi9kaXN0L3NvbmctaW1hZ2VzL3dhcnJpeW8uanBnXCIsXG4gICAgICAgIHNvbmdTcmM6XG4gICAgICAgICAgICBcIi9kaXN0L3NhbXBsZS1zb25ncy9XYXJyaXlvIC0gTW9ydGFscyAoZmVhdC4gTGF1cmEgQnJlaG0pIFtOQ1MgUmVsZWFzZV0ubXAzXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcIjAzOjQ4XCIsXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6IFwiQ3JhZGxlc1wiLFxuICAgICAgICBhcnRpc3Q6IFwiU3ViIFVyYmFuXCIsXG4gICAgICAgIGltYWdlU3JjOiBcIi9kaXN0L3NvbmctaW1hZ2VzL2NyYWRsZXMuanBnXCIsXG4gICAgICAgIHNvbmdTcmM6IFwiL2Rpc3Qvc2FtcGxlLXNvbmdzL1N1YiBVcmJhbiAtIENyYWRsZXMgW05DUyBSZWxlYXNlXS5tcDNcIixcbiAgICAgICAgZHVyYXRpb246IFwiMDM6MjlcIixcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogXCJBZHZlbnR1cmVzXCIsXG4gICAgICAgIGFydGlzdDogXCJXaWxsaWFtIEVraCwgZmVhdC4gQWxleGEgTHVzYWRlclwiLFxuICAgICAgICBpbWFnZVNyYzogXCIvZGlzdC9zb25nLWltYWdlcy9hZHZlbnR1cmVzLmpwZ1wiLFxuICAgICAgICBzb25nU3JjOlxuICAgICAgICAgICAgXCIvZGlzdC9zYW1wbGUtc29uZ3MvV2lsbGlhbSBFa2ggLSBBZHZlbnR1cmVzIChmZWF0LiBBbGV4YSBMdXNhZGVyKSBbTkNTIFJlbGVhc2VdLm1wM1wiLFxuICAgICAgICBkdXJhdGlvbjogXCIwMzoxMVwiLFxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiBcIlNldCBNZSBGcmVlXCIsXG4gICAgICAgIGFydGlzdDogXCJTaW1iYWkgJiBGcml6enkgVGhlIFN0cmVldHpcIixcbiAgICAgICAgaW1hZ2VTcmM6IFwiL2Rpc3Qvc29uZy1pbWFnZXMvc2V0bWVmcmVlLmpwZ1wiLFxuICAgICAgICBzb25nU3JjOlxuICAgICAgICAgICAgXCIvZGlzdC9zYW1wbGUtc29uZ3MvU2ltYmFpICYgRnJpenp5IFRoZSBTdHJlZXR6IC0gU2V0IE1lIEZyZWUgW05DUyBSZWxlYXNlXS5tcDNcIixcbiAgICAgICAgZHVyYXRpb246IFwiMDI6NDlcIixcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogXCJIZXJvZXMgVG9uaWdodFwiLFxuICAgICAgICBhcnRpc3Q6IFwiSmFuamksIGZ0LkpvaG5uaW5nXCIsXG4gICAgICAgIGltYWdlU3JjOiBcIi9kaXN0L3NvbmctaW1hZ2VzL2phbmppLmpwZ1wiLFxuICAgICAgICBzb25nU3JjOlxuICAgICAgICAgICAgXCIvZGlzdC9zYW1wbGUtc29uZ3MvSmFuamkgLSBIZXJvZXMgVG9uaWdodCAoZmVhdC4gSm9obm5pbmcpIFtOQ1MgUmVsZWFzZV0ubXAzXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcIjAzOjI4XCIsXG4gICAgfSxcbl07XG5cbmV4cG9ydCBkZWZhdWx0IHNvbmdMaXN0O1xuIiwiY29uc3QgbWFrZU11c2ljQ2FyZHMgPSAoc291cmNlLCBuYW1lLCBhcnRpc3QpID0+IHtcbiAgICBjb25zdCBzb25nSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICBzb25nSW1nLmNsYXNzTGlzdC5hZGQoXCJjYXJkLWltZ1wiKTtcbiAgICBzb25nSW1nLnNyYyA9IHNvdXJjZTtcblxuICAgIGNvbnN0IHNvbmdOYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBzb25nTmFtZS5jbGFzc0xpc3QuYWRkKFwibXVzaWMtbmFtZVwiKTtcbiAgICBzb25nTmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XG5cbiAgICBjb25zdCBhcnRpc3ROYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBhcnRpc3ROYW1lLmNsYXNzTGlzdC5hZGQoXCJhcnRpc3QtbmFtZVwiKTtcbiAgICBhcnRpc3ROYW1lLnRleHRDb250ZW50ID0gYXJ0aXN0O1xuXG4gICAgY29uc3QgbWFpbkNhcmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIG1haW5DYXJkLmNsYXNzTGlzdC5hZGQoXCJjYXJkc1wiKTtcblxuICAgIG1haW5DYXJkLmFwcGVuZENoaWxkKHNvbmdJbWcpO1xuICAgIG1haW5DYXJkLmFwcGVuZENoaWxkKHNvbmdOYW1lKTtcbiAgICBtYWluQ2FyZC5hcHBlbmRDaGlsZChhcnRpc3ROYW1lKTtcblxuICAgIHJldHVybiBtYWluQ2FyZDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IG1ha2VNdXNpY0NhcmRzO1xuIiwiaW1wb3J0IHNvbmdMaXN0IGZyb20gXCIuLi9Tb25nc0xpc3Qvc29uZ3NEYXRhXCI7XG5cbmNvbnN0IGJ1aWxkU29uZ0luZm8gPSAoaW5kZXgpID0+IHtcbiAgICBjb25zdCBkYXRhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBkYXRhLmNsYXNzTGlzdCA9IFwic29uZ0RhdGFcIjtcblxuICAgIGNvbnN0IHNvbmdJbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgIHNvbmdJbWcuY2xhc3NMaXN0ID0gXCJtYWluSW1nXCI7XG4gICAgc29uZ0ltZy5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgc29uZ0xpc3RbaW5kZXhdLmltYWdlU3JjKTtcblxuICAgIGNvbnN0IHNvbmdOYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBzb25nTmFtZS5jbGFzc0xpc3QgPSBcInNvbmdOYW1lXCI7XG4gICAgc29uZ05hbWUudGV4dENvbnRlbnQgPSBzb25nTGlzdFtpbmRleF0ubmFtZTtcblxuICAgIGNvbnN0IHNvbmdXcml0ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHNvbmdXcml0ZXIuY2xhc3NMaXN0ID0gXCJhcnRpc3RcIjtcbiAgICBzb25nV3JpdGVyLnRleHRDb250ZW50ID0gc29uZ0xpc3RbaW5kZXhdLmFydGlzdDtcblxuICAgIGRhdGEuYXBwZW5kQ2hpbGQoc29uZ0ltZyk7XG4gICAgZGF0YS5hcHBlbmRDaGlsZChzb25nTmFtZSk7XG4gICAgZGF0YS5hcHBlbmRDaGlsZChzb25nV3JpdGVyKTtcblxuICAgIHJldHVybiBkYXRhO1xufTtcblxuY29uc3QgZ2V0U29uZ0RldGFpbHMgPSAoaW5kZXgpID0+IHtcbiAgICBjb25zdCBtYWluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluXCIpO1xuXG4gICAgaWYgKG1haW4ubGFzdENoaWxkLmNsYXNzTmFtZSA9PSBcInNvbmdEYXRhXCIpIHtcbiAgICAgICAgbWFpbi5yZW1vdmVDaGlsZChtYWluLmxhc3RDaGlsZCk7XG4gICAgfVxuICAgIG1haW4uYXBwZW5kQ2hpbGQoYnVpbGRTb25nSW5mbyhpbmRleCkpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZ2V0U29uZ0RldGFpbHM7XG4iLCJpbXBvcnQgc29uZ0xpc3QgZnJvbSBcIi4uL1NvbmdzTGlzdC9zb25nc0RhdGFcIjtcbmltcG9ydCBnZXRTb25nRGV0YWlscyBmcm9tIFwiLi9idWlsZEN1cnJlbnRNdXNpY0NhcmRcIjtcblxuY29uc3QgYWRkQ29udHJvbHNGdW5jdGlvbmFsaXR5ID0gKGluZGV4KSA9PiB7XG4gICAgbGV0IGN1cnJlbnRTb25nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hdWRpb0VsZW1lbnRcIik7XG4gICAgbGV0IHBsYXlCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBsYXlCdG5cIik7XG4gICAgbGV0IHBsYXlCdG5JbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBsYXlCdG5JbWdcIik7XG4gICAgY29uc3Qgdm9sID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi52b2x1bWVcIik7XG5cbiAgICBjdXJyZW50U29uZy5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgc29uZ0xpc3RbaW5kZXhdLnNvbmdTcmMpO1xuXG4gICAgbGV0IHBsYXlQcm9taXNlID0gY3VycmVudFNvbmcucGxheSgpO1xuXG4gICAgaWYgKHBsYXlQcm9taXNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcGxheVByb21pc2VcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBjdXJyZW50U29uZy5wbGF5KCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge30pO1xuICAgIH1cblxuICAgIHBsYXlCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgaWYgKGN1cnJlbnRTb25nLnBhdXNlZCkge1xuICAgICAgICAgICAgY3VycmVudFNvbmcucGxheSgpO1xuICAgICAgICAgICAgcGxheUJ0bkltZy5zcmMgPSBcIi9kaXN0L2ljb25zLWFuZC1pbWFnZXMvcGF1c2Utc3ZncmVwby1jb20uc3ZnXCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjdXJyZW50U29uZy5wYXVzZSgpO1xuICAgICAgICAgICAgcGxheUJ0bkltZy5zcmMgPSBcIi9kaXN0L2ljb25zLWFuZC1pbWFnZXMvcGxheS1zdmdyZXBvLWNvbS5zdmdcIjtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29uc3QgbXVzaWNCYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm11c2ljQmFyXCIpO1xuXG4gICAgY3VycmVudFNvbmcuYWRkRXZlbnRMaXN0ZW5lcihcInRpbWV1cGRhdGVcIiwgKCkgPT4ge1xuICAgICAgICAvL2dldCB2YWx1ZSBpbiBwZXJjZW50XG4gICAgICAgIGxldCBzb25nUHJvZ3Jlc3MgPVxuICAgICAgICAgICAgKGN1cnJlbnRTb25nLmN1cnJlbnRUaW1lIC8gY3VycmVudFNvbmcuZHVyYXRpb24pICogMTAwO1xuXG4gICAgICAgIG11c2ljQmFyLnZhbHVlID0gc29uZ1Byb2dyZXNzO1xuICAgIH0pO1xuXG4gICAgbXVzaWNCYXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgICAgIGN1cnJlbnRTb25nLmN1cnJlbnRUaW1lID1cbiAgICAgICAgICAgIChlLm9mZnNldFggLyBlLnNyY0VsZW1lbnQuY2xpZW50V2lkdGgpICogY3VycmVudFNvbmcuZHVyYXRpb247XG4gICAgfSk7XG5cbiAgICBjb25zdCBwcmV2QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcmV2QnRuXCIpO1xuICAgIGNvbnN0IG5leHRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5leHRCdG5cIik7XG5cbiAgICBuZXh0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIGlmIChjdXJyZW50U29uZy5wYXVzZWQpIHtcbiAgICAgICAgICAgIHBsYXlCdG5JbWcuc3JjID0gXCIvZGlzdC9pY29ucy1hbmQtaW1hZ2VzL3BhdXNlLXN2Z3JlcG8tY29tLnN2Z1wiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbmRleCA9PSBzb25nTGlzdC5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICBpbmRleCA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICB9XG4gICAgICAgIGdldFNvbmdEZXRhaWxzKGluZGV4KTtcbiAgICAgICAgY3VycmVudFNvbmcuc2V0QXR0cmlidXRlKFwic3JjXCIsIHNvbmdMaXN0W2luZGV4XS5zb25nU3JjKTtcblxuICAgICAgICBsZXQgcGxheVByb21pc2UgPSBjdXJyZW50U29uZy5wbGF5KCk7XG5cbiAgICAgICAgaWYgKHBsYXlQcm9taXNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBsYXlQcm9taXNlXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50U29uZy5wbGF5KCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7fSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHByZXZCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgaWYgKGN1cnJlbnRTb25nLnBhdXNlZCkge1xuICAgICAgICAgICAgcGxheUJ0bkltZy5zcmMgPSBcIi9kaXN0L2ljb25zLWFuZC1pbWFnZXMvcGF1c2Utc3ZncmVwby1jb20uc3ZnXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluZGV4ID09IDApIHtcbiAgICAgICAgICAgIGluZGV4ID0gc29uZ0xpc3QubGVuZ3RoIC0gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGluZGV4LS07XG4gICAgICAgIH1cbiAgICAgICAgZ2V0U29uZ0RldGFpbHMoaW5kZXgpO1xuICAgICAgICBjdXJyZW50U29uZy5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgc29uZ0xpc3RbaW5kZXhdLnNvbmdTcmMpO1xuXG4gICAgICAgIGxldCBwbGF5UHJvbWlzZSA9IGN1cnJlbnRTb25nLnBsYXkoKTtcblxuICAgICAgICBpZiAocGxheVByb21pc2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcGxheVByb21pc2VcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTb25nLnBsYXkoKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHt9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdm9sLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgICBjdXJyZW50U29uZy52b2x1bWUgPSBlLm9mZnNldFggLyBlLnNyY0VsZW1lbnQuY2xpZW50V2lkdGg7XG4gICAgfSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBhZGRDb250cm9sc0Z1bmN0aW9uYWxpdHk7XG4iLCJpbXBvcnQgc29uZ0xpc3QgZnJvbSBcIi4vU29uZ3NMaXN0L3NvbmdzRGF0YVwiO1xuaW1wb3J0IG1ha2VNdXNpY0NhcmRzIGZyb20gXCIuL0Z1bmN0aW9uYWxpdGllcy9tYWtlTXVzaWNDYXJkc1wiO1xuaW1wb3J0IGJ1aWxkU29uZ0luZm8gZnJvbSBcIi4vRnVuY3Rpb25hbGl0aWVzL2J1aWxkQ3VycmVudE11c2ljQ2FyZC5qc1wiO1xuaW1wb3J0IGJ1aWxkUGxheWVyIGZyb20gXCIuL0Z1bmN0aW9uYWxpdGllcy9idWlsZE11c2ljUGxheWVyXCI7XG5pbXBvcnQgYWRkRnVuY3Rpb25hbGl0eVRvQ2FyZHNPbk11c2ljUGFnZSBmcm9tIFwiLi9Vc2VyIEludGVyZmFjZS9tdXNpY1BhZ2VVSVwiO1xuXG5jb25zdCBnZXRMeXJpY3MgPSAoKSA9PiB7XG4gICAgY29uc3QgbHlyaWNzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBseXJpY3MuY2xhc3NMaXN0ID0gXCJseXJpY3NcIjtcblxuICAgIHJldHVybiBseXJpY3M7XG59O1xuXG5jb25zdCBhZGRDYXJkcyA9ICgpID0+IHtcbiAgICBjb25zdCBjYXJkc0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgY2FyZHNDb250YWluZXIuY2xhc3NMaXN0ID0gXCJzb25nQ2FyZHNcIjtcblxuICAgIHJldHVybiBjYXJkc0NvbnRhaW5lcjtcbn07XG5cbmNvbnN0IGJ1aWxkQ29udGVudEltZyA9IChzb3VyY2UpID0+IHtcbiAgICBjb25zdCBob21lQmdJbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgIGhvbWVCZ0ltZy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNvbnRlbnQtaW1nXCIpO1xuICAgIGhvbWVCZ0ltZy5zcmMgPSBzb3VyY2U7XG5cbiAgICByZXR1cm4gaG9tZUJnSW1nO1xufTtcblxuY29uc3QgbG9hZE11c2ljUGFnZSA9ICgpID0+IHtcbiAgICBjb25zdCBtYWluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluXCIpO1xuXG4gICAgd2hpbGUgKG1haW4uaGFzQ2hpbGROb2RlcygpKSB7XG4gICAgICAgIG1haW4ucmVtb3ZlQ2hpbGQobWFpbi5maXJzdENoaWxkKTtcbiAgICB9XG5cbiAgICAvLyBob21lLWJhY2tncm91bmQgaW1hZ2Ugc3JjXG4gICAgY29uc3QgaWxsdXNTcmMgPSBcIlwiO1xuXG4gICAgY29uc3QgY2FyZHNDb250YWluZXIgPSBhZGRDYXJkcygpO1xuXG4gICAgbGV0IGluZGV4ID0gMztcbiAgICB3aGlsZSAoaW5kZXggPCA2KSB7XG4gICAgICAgIGNvbnN0IHNyYyA9IHNvbmdMaXN0W2luZGV4XS5pbWFnZVNyYztcbiAgICAgICAgY29uc3QgbmFtZSA9IHNvbmdMaXN0W2luZGV4XS5uYW1lO1xuICAgICAgICBjb25zdCBhcnRpc3QgPSBzb25nTGlzdFtpbmRleF0uYXJ0aXN0O1xuXG4gICAgICAgIGNvbnN0IGNhcmQgPSBtYWtlTXVzaWNDYXJkcyhzcmMsIG5hbWUsIGFydGlzdCwgaW5kZXggKyAxKTtcbiAgICAgICAgY2FyZHNDb250YWluZXIuYXBwZW5kQ2hpbGQoY2FyZCk7XG5cbiAgICAgICAgaW5kZXgrKztcbiAgICB9XG5cbiAgICBjb25zdCBiZ0ltYWdlID0gYnVpbGRDb250ZW50SW1nKGlsbHVzU3JjKTtcblxuICAgIGNvbnN0IGx5cmljcyA9IGdldEx5cmljcygpO1xuXG4gICAgY29uc3QgbXVzaWNQbGF5ZXIgPSBidWlsZFBsYXllcigpO1xuXG4gICAgbWFpbi5hcHBlbmRDaGlsZChiZ0ltYWdlKTtcbiAgICBtYWluLmFwcGVuZENoaWxkKGx5cmljcyk7XG4gICAgbWFpbi5hcHBlbmRDaGlsZChjYXJkc0NvbnRhaW5lcik7XG4gICAgbWFpbi5hcHBlbmRDaGlsZChtdXNpY1BsYXllcik7XG5cbiAgICBhZGRGdW5jdGlvbmFsaXR5VG9DYXJkc09uTXVzaWNQYWdlKCk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBsb2FkTXVzaWNQYWdlO1xuIiwiY29uc3QgYWRkQXVkaW9FbGVtZW50ID0gKCkgPT4ge1xuICAgIGxldCBhdWRpbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhdWRpb1wiKTtcbiAgICBhdWRpby5jbGFzc0xpc3QgPSBcImF1ZGlvRWxlbWVudFwiO1xuICAgIGF1ZGlvLnNyYyA9IFwiXCI7XG5cbiAgICByZXR1cm4gYXVkaW87XG59O1xuXG5jb25zdCBhZGRNdXNpY1JhbmdlQmFyID0gKCkgPT4ge1xuICAgIGNvbnN0IHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgIHJhbmdlLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJyYW5nZVwiKTtcbiAgICByYW5nZS5jbGFzc0xpc3QgPSBcIm11c2ljQmFyXCI7XG4gICAgcmFuZ2UudmFsdWUgPSAwO1xuXG4gICAgcmV0dXJuIHJhbmdlO1xufTtcblxuY29uc3QgYWRkU29uZ0luZm8gPSAoKSA9PiB7XG4gICAgY29uc3QgaW5mbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgaW5mby5jbGFzc0xpc3QgPSBcInNvbmdEZXRhaWxcIjtcblxuICAgIGNvbnN0IG5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGNvbnN0IGFydGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgY29uc3QgZ2lmID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICBjb25zdCBkdXJhdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cbiAgICBuYW1lLmNsYXNzTGlzdCA9IFwic29uZy1uYW1lXCI7XG4gICAgYXJ0aXN0LmNsYXNzTGlzdCA9IFwiYXJ0aXN0LW5hbWVcIjtcbiAgICBnaWYuY2xhc3NMaXN0ID0gXCJtdXNpYy1naWZcIjtcbiAgICBkdXJhdGlvbi5jbGFzc0xpc3QgPSBcImR1cmF0aW9uXCI7XG5cbiAgICAvL1RPRE8gOiBBZGQgZ2lmIHNvdXJjZVxuICAgIGdpZi5zcmMgPSBcIlwiO1xuXG4gICAgaW5mby5hcHBlbmRDaGlsZChuYW1lKTtcbiAgICBpbmZvLmFwcGVuZENoaWxkKGFydGlzdCk7XG4gICAgaW5mby5hcHBlbmRDaGlsZChnaWYpO1xuICAgIGluZm8uYXBwZW5kQ2hpbGQoZHVyYXRpb24pO1xuXG4gICAgcmV0dXJuIGluZm87XG59O1xuXG5jb25zdCBhZGRDb250cm9scyA9ICgpID0+IHtcbiAgICBjb25zdCBjb250cm9scyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cbiAgICBjb25zdCBwcmV2QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBjb25zdCBuZXh0QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBjb25zdCBwbGF5QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblxuICAgIGNvbnN0IHZvbHVtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICB2b2x1bWUudmFsdWUgPSAxMDA7XG5cbiAgICBjb25zdCBwcmV2QnRuSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICBjb25zdCBuZXh0QnRuSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICBjb25zdCBwbGF5QnRuSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcblxuICAgIHByZXZCdG5JbWcuc3JjID0gXCIvZGlzdC9pY29ucy1hbmQtaW1hZ2VzL3ByZXZpb3VzLXN2Z3JlcG8tY29tLnN2Z1wiO1xuICAgIG5leHRCdG5JbWcuc3JjID0gXCIvZGlzdC9pY29ucy1hbmQtaW1hZ2VzL25leHQtc3ZncmVwby1jb20uc3ZnXCI7XG4gICAgcGxheUJ0bkltZy5zcmMgPSBcIi9kaXN0L2ljb25zLWFuZC1pbWFnZXMvcGF1c2Utc3ZncmVwby1jb20uc3ZnXCI7XG5cbiAgICBwbGF5QnRuSW1nLmNsYXNzTGlzdC5hZGQoXCJwbGF5QnRuSW1nXCIsIFwiY29udHJvbC1pbWdcIik7XG4gICAgbmV4dEJ0bkltZy5jbGFzc0xpc3QuYWRkKFwibmV4dEJ0bkltZ1wiLCBcImNvbnRyb2wtaW1nXCIpO1xuICAgIHByZXZCdG5JbWcuY2xhc3NMaXN0LmFkZChcInByZXZCdG5JbWdcIiwgXCJjb250cm9sLWltZ1wiKTtcblxuICAgIHByZXZCdG4uY2xhc3NMaXN0LmFkZChcInByZXZCdG5cIiwgXCJjb250cm9sQnRuXCIpO1xuICAgIHBsYXlCdG4uY2xhc3NMaXN0LmFkZChcInBsYXlCdG5cIiwgXCJjb250cm9sQnRuXCIpO1xuICAgIG5leHRCdG4uY2xhc3NMaXN0LmFkZChcIm5leHRCdG5cIiwgXCJjb250cm9sQnRuXCIpO1xuXG4gICAgcHJldkJ0bi5hcHBlbmRDaGlsZChwcmV2QnRuSW1nKTtcbiAgICBwbGF5QnRuLmFwcGVuZENoaWxkKHBsYXlCdG5JbWcpO1xuICAgIG5leHRCdG4uYXBwZW5kQ2hpbGQobmV4dEJ0bkltZyk7XG5cbiAgICB2b2x1bWUuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInJhbmdlXCIpO1xuICAgIHZvbHVtZS5jbGFzc0xpc3QgPSBcInZvbHVtZVwiO1xuXG4gICAgY29udHJvbHMuY2xhc3NMaXN0ID0gXCJjb250cm9sc1wiO1xuXG4gICAgY29udHJvbHMuYXBwZW5kQ2hpbGQocHJldkJ0bik7XG4gICAgY29udHJvbHMuYXBwZW5kQ2hpbGQocGxheUJ0bik7XG4gICAgY29udHJvbHMuYXBwZW5kQ2hpbGQobmV4dEJ0bik7XG4gICAgY29udHJvbHMuYXBwZW5kQ2hpbGQodm9sdW1lKTtcblxuICAgIHJldHVybiBjb250cm9scztcbn07XG5cbmNvbnN0IGJ1aWxkUGxheWVyID0gKCkgPT4ge1xuICAgIGNvbnN0IG1lZGlhUGxheWVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBtZWRpYVBsYXllci5jbGFzc0xpc3QgPSBcIm1lZGlhUGxheWVyXCI7XG5cbiAgICBtZWRpYVBsYXllci5hcHBlbmRDaGlsZChhZGRBdWRpb0VsZW1lbnQoKSk7XG4gICAgbWVkaWFQbGF5ZXIuYXBwZW5kQ2hpbGQoYWRkU29uZ0luZm8oKSk7XG4gICAgbWVkaWFQbGF5ZXIuYXBwZW5kQ2hpbGQoYWRkTXVzaWNSYW5nZUJhcigpKTtcbiAgICBtZWRpYVBsYXllci5hcHBlbmRDaGlsZChhZGRDb250cm9scygpKTtcblxuICAgIHJldHVybiBtZWRpYVBsYXllcjtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGJ1aWxkUGxheWVyO1xuIiwiaW1wb3J0IHNvbmdMaXN0IGZyb20gXCIuLi9Tb25nc0xpc3Qvc29uZ3NEYXRhXCI7XG5pbXBvcnQgYWRkQ29udHJvbHNGdW5jdGlvbmFsaXR5IGZyb20gXCIuLi9GdW5jdGlvbmFsaXRpZXMvcGxheU11c2ljXCI7XG5pbXBvcnQgZ2V0U29uZ0RldGFpbHMgZnJvbSBcIi4uL0Z1bmN0aW9uYWxpdGllcy9idWlsZEN1cnJlbnRNdXNpY0NhcmRcIjtcbmltcG9ydCBsb2FkTXVzaWNQYWdlIGZyb20gXCIuLi9tdXNpY1BhZ2VcIjtcblxuY29uc3QgYWRkRnVuY3Rpb25hbGl0eVRvQ2FyZHNPbk11c2ljUGFnZSA9ICgpID0+IHtcbiAgICBjb25zdCBjYXJkc1BhcmVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc29uZ0NhcmRzXCIpO1xuXG4gICAgY2FyZHNQYXJlbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgICAgIGlmIChlLnRhcmdldC5wYXJlbnRFbGVtZW50LmNsYXNzTmFtZSA9PSBcImNhcmRzXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHNvbmdOYW1lID0gZS50YXJnZXQucGFyZW50RWxlbWVudC5jaGlsZHJlblsxXS50ZXh0Q29udGVudDtcblxuICAgICAgICAgICAgbGV0IHNvbmdJbmRleDtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc29uZ0xpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoc29uZ0xpc3RbaV0ubmFtZSA9PSBzb25nTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBzb25nSW5kZXggPSBpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvYWRNdXNpY1BhZ2UoKTtcbiAgICAgICAgICAgIGdldFNvbmdEZXRhaWxzKHNvbmdJbmRleCk7XG4gICAgICAgICAgICBhZGRDb250cm9sc0Z1bmN0aW9uYWxpdHkoc29uZ0luZGV4KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgYWRkRnVuY3Rpb25hbGl0eVRvQ2FyZHNPbk11c2ljUGFnZTtcbiIsImltcG9ydCBsb2FkTXVzaWNQYWdlIGZyb20gXCIuLi9tdXNpY1BhZ2VcIjtcbmltcG9ydCBzb25nTGlzdCBmcm9tIFwiLi4vU29uZ3NMaXN0L3NvbmdzRGF0YVwiO1xuaW1wb3J0IGFkZENvbnRyb2xzRnVuY3Rpb25hbGl0eSBmcm9tIFwiLi4vRnVuY3Rpb25hbGl0aWVzL3BsYXlNdXNpY1wiO1xuaW1wb3J0IGJ1aWxkU29uZ0luZm8gZnJvbSBcIi4uL0Z1bmN0aW9uYWxpdGllcy9idWlsZEN1cnJlbnRNdXNpY0NhcmRcIjtcblxuY29uc3QgZ2V0Q2xpY2tlZCA9IChlKSA9PiB7XG4gICAgaWYgKGUudGFyZ2V0LnBhcmVudEVsZW1lbnQuY2xhc3NOYW1lID09IFwiY2FyZHNcIikge1xuICAgICAgICBjb25zdCBzb25nTmFtZSA9IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQuY2hpbGRyZW5bMV0udGV4dENvbnRlbnQ7XG5cbiAgICAgICAgbGV0IHNvbmdJbmRleDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb25nTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHNvbmdMaXN0W2ldLm5hbWUgPT0gc29uZ05hbWUpIHtcbiAgICAgICAgICAgICAgICBzb25nSW5kZXggPSBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbG9hZE11c2ljUGFnZSgpO1xuICAgICAgICBidWlsZFNvbmdJbmZvKHNvbmdJbmRleCk7XG4gICAgICAgIGFkZENvbnRyb2xzRnVuY3Rpb25hbGl0eShzb25nSW5kZXgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG59O1xuXG5jb25zdCBhZGRGdW5jdGlvbmFsaXR5VG9NdXNpY0NhcmRzID0gKCkgPT4ge1xuICAgIGNvbnN0IGNhcmRzUGFyZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tdXNpYy1jYXJkc1wiKTtcblxuICAgIGNhcmRzUGFyZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBnZXRDbGlja2VkKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGFkZEZ1bmN0aW9uYWxpdHlUb011c2ljQ2FyZHM7XG4iLCJpbXBvcnQgc29uZ0xpc3QgZnJvbSBcIi4vU29uZ3NMaXN0L3NvbmdzRGF0YVwiO1xuaW1wb3J0IG1ha2VNdXNpY0NhcmRzIGZyb20gXCIuL0Z1bmN0aW9uYWxpdGllcy9tYWtlTXVzaWNDYXJkc1wiO1xuaW1wb3J0IGFkZEZ1bmN0aW9uYWxpdHlUb011c2ljQ2FyZHMgZnJvbSBcIi4vVXNlciBJbnRlcmZhY2UvaG9tZVVJXCI7XG5cbmNvbnN0IGJ1aWxkQ29udGVudEltZyA9IChzb3VyY2UpID0+IHtcbiAgICBjb25zdCBob21lQmdJbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgIGhvbWVCZ0ltZy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNvbnRlbnQtaW1nXCIpO1xuICAgIGhvbWVCZ0ltZy5zcmMgPSBzb3VyY2U7XG5cbiAgICByZXR1cm4gaG9tZUJnSW1nO1xufTtcblxuY29uc3QgYnVpbGRDb250ZW50ID0gKCkgPT4ge1xuICAgIGNvbnN0IGRhdGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGRhdGEuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjb250ZW50LWRhdGFcIik7XG4gICAgZGF0YS50ZXh0Q29udGVudCA9IFwiR2V0IHJlYWR5IHRvIGVuam95IHRoZSBleHBlcmllbmNlIVwiO1xuXG4gICAgcmV0dXJuIGRhdGE7XG59O1xuXG5jb25zdCBnZXRTb25nc0xpc3QgPSAoKSA9PiB7XG4gICAgY29uc3QgbGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgbGlzdC5jbGFzc0xpc3QgPSBcImxpc3Qtb2Ytc29uZ3NcIjtcblxuICAgIHJldHVybiBsaXN0O1xufTtcblxuY29uc3QgYWRkSGVhZCA9ICgpID0+IHtcbiAgICBjb25zdCBoZWFkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBoZWFkLmNsYXNzTGlzdCA9IFwibGlzdC1oZWFkXCI7XG4gICAgaGVhZC50ZXh0Q29udGVudCA9IFwiUGxheSBtdXNpY1wiO1xuXG4gICAgcmV0dXJuIGhlYWQ7XG59O1xuXG5jb25zdCBhZGRDYXJkcyA9ICgpID0+IHtcbiAgICBjb25zdCBjYXJkc0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgY2FyZHNDb250YWluZXIuY2xhc3NMaXN0ID0gXCJtdXNpYy1jYXJkc1wiO1xuXG4gICAgcmV0dXJuIGNhcmRzQ29udGFpbmVyO1xufTtcblxuY29uc3QgYWRkU2VhcmNoQmFyID0gKCkgPT4ge1xuICAgIGNvbnN0IGJhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICBiYXIuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInNlYXJjaFwiKTtcbiAgICBiYXIuY2xhc3NMaXN0ID0gXCJzZWFyY2gtYmFyXCI7XG5cbiAgICByZXR1cm4gYmFyO1xufTtcblxuY29uc3QgbG9hZEhvbWUgPSAoKSA9PiB7XG4gICAgY29uc3QgbWFpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpblwiKTtcblxuICAgIHdoaWxlIChtYWluLmhhc0NoaWxkTm9kZXMoKSkge1xuICAgICAgICBtYWluLnJlbW92ZUNoaWxkKG1haW4uZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgLy8gaG9tZS1iYWNrZ3JvdW5kIGltYWdlIHNyY1xuICAgIGNvbnN0IGlsbHVzU3JjID0gXCJcIjtcblxuICAgIGNvbnN0IGNhcmRzQ29udGFpbmVyID0gYWRkQ2FyZHMoKTtcblxuICAgIC8vIHNvbmcncyBpbWFnZSBhbmQgbmFtZVxuICAgIGxldCBpbmRleCA9IDA7XG4gICAgd2hpbGUgKGluZGV4IDwgMykge1xuICAgICAgICBjb25zdCBzcmMgPSBzb25nTGlzdFtpbmRleF0uaW1hZ2VTcmM7XG4gICAgICAgIGNvbnN0IG5hbWUgPSBzb25nTGlzdFtpbmRleF0ubmFtZTtcbiAgICAgICAgY29uc3QgYXJ0aXN0ID0gc29uZ0xpc3RbaW5kZXhdLmFydGlzdDtcblxuICAgICAgICBjb25zdCBjYXJkID0gbWFrZU11c2ljQ2FyZHMoc3JjLCBuYW1lLCBhcnRpc3QsIGluZGV4ICsgMSk7XG4gICAgICAgIGNhcmRzQ29udGFpbmVyLmFwcGVuZENoaWxkKGNhcmQpO1xuXG4gICAgICAgIGluZGV4Kys7XG4gICAgfVxuXG4gICAgY29uc3QgbGlzdEhlYWQgPSBhZGRIZWFkKCk7XG5cbiAgICBjb25zdCBzb25nc0xpc3QgPSBnZXRTb25nc0xpc3QoKTtcbiAgICBzb25nc0xpc3QuYXBwZW5kQ2hpbGQobGlzdEhlYWQpO1xuICAgIHNvbmdzTGlzdC5hcHBlbmRDaGlsZChjYXJkc0NvbnRhaW5lcik7XG5cbiAgICBjb25zdCBiZ0ltYWdlID0gYnVpbGRDb250ZW50SW1nKGlsbHVzU3JjKTtcbiAgICBjb25zdCBob21lTXNnID0gYnVpbGRDb250ZW50KCk7XG5cbiAgICBjb25zdCBzZWFyY2hCYXIgPSBhZGRTZWFyY2hCYXIoKTtcblxuICAgIG1haW4uYXBwZW5kQ2hpbGQoYmdJbWFnZSk7XG4gICAgbWFpbi5hcHBlbmRDaGlsZChob21lTXNnKTtcbiAgICBtYWluLmFwcGVuZENoaWxkKHNlYXJjaEJhcik7XG4gICAgbWFpbi5hcHBlbmRDaGlsZChzb25nc0xpc3QpO1xuXG4gICAgYWRkRnVuY3Rpb25hbGl0eVRvTXVzaWNDYXJkcygpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgbG9hZEhvbWU7XG4iLCJpbXBvcnQgbG9hZEhvbWUgZnJvbSBcIi4vaG9tZVwiO1xuaW1wb3J0IGxvYWRNdXNpY1BhZ2UgZnJvbSBcIi4vbXVzaWNQYWdlXCI7XG5cbmNvbnN0IGxvYWRXZWJwYWdlID0gKCkgPT4ge1xuICAgIGxvYWRIb21lKCk7XG5cbiAgICBjb25zdCBob21lQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5ob21lLWJ0blwiKTtcbiAgICBjb25zdCBtZWRpYVBsYXllciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubXVzaWMtbGlzdC1idG5cIik7XG4gICAgLy9jb25zdCBwbGF5bGlzdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJwbGF5bGlzdC1idG5cIik7XG5cbiAgICBob21lQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBsb2FkSG9tZSk7XG4gICAgbWVkaWFQbGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGxvYWRNdXNpY1BhZ2UpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgbG9hZFdlYnBhZ2U7XG4iLCJpbXBvcnQgbG9hZFdlYnBhZ2UgZnJvbSBcIi4vbW9kdWxlcy93ZWJwYWdlXCI7XG5cbmxvYWRXZWJwYWdlKCk7XG4iXSwibmFtZXMiOlsibmFtZSIsImFydGlzdCIsImltYWdlU3JjIiwic29uZ1NyYyIsImR1cmF0aW9uIiwic291cmNlIiwic29uZ0ltZyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsInNyYyIsInNvbmdOYW1lIiwidGV4dENvbnRlbnQiLCJhcnRpc3ROYW1lIiwibWFpbkNhcmQiLCJhcHBlbmRDaGlsZCIsImluZGV4IiwibWFpbiIsInF1ZXJ5U2VsZWN0b3IiLCJsYXN0Q2hpbGQiLCJjbGFzc05hbWUiLCJyZW1vdmVDaGlsZCIsImRhdGEiLCJzZXRBdHRyaWJ1dGUiLCJzb25nV3JpdGVyIiwiYnVpbGRTb25nSW5mbyIsImN1cnJlbnRTb25nIiwicGxheUJ0biIsInBsYXlCdG5JbWciLCJ2b2wiLCJwbGF5UHJvbWlzZSIsInBsYXkiLCJ1bmRlZmluZWQiLCJ0aGVuIiwiY2F0Y2giLCJlcnJvciIsImFkZEV2ZW50TGlzdGVuZXIiLCJwYXVzZWQiLCJwYXVzZSIsIm11c2ljQmFyIiwic29uZ1Byb2dyZXNzIiwiY3VycmVudFRpbWUiLCJ2YWx1ZSIsImUiLCJvZmZzZXRYIiwic3JjRWxlbWVudCIsImNsaWVudFdpZHRoIiwicHJldkJ0biIsInZvbHVtZSIsImhhc0NoaWxkTm9kZXMiLCJmaXJzdENoaWxkIiwiY2FyZHNDb250YWluZXIiLCJhZGRDYXJkcyIsImNhcmQiLCJiZ0ltYWdlIiwiaG9tZUJnSW1nIiwiYnVpbGRDb250ZW50SW1nIiwibHlyaWNzIiwiZ2V0THlyaWNzIiwibXVzaWNQbGF5ZXIiLCJtZWRpYVBsYXllciIsImF1ZGlvIiwiYWRkQXVkaW9FbGVtZW50IiwiaW5mbyIsImdpZiIsImFkZFNvbmdJbmZvIiwicmFuZ2UiLCJhZGRNdXNpY1JhbmdlQmFyIiwiY29udHJvbHMiLCJuZXh0QnRuIiwicHJldkJ0bkltZyIsIm5leHRCdG5JbWciLCJhZGRDb250cm9scyIsInRhcmdldCIsInBhcmVudEVsZW1lbnQiLCJjaGlsZHJlbiIsInNvbmdJbmRleCIsImkiLCJnZXRDbGlja2VkIiwibGlzdEhlYWQiLCJoZWFkIiwiYWRkSGVhZCIsInNvbmdzTGlzdCIsImxpc3QiLCJnZXRTb25nc0xpc3QiLCJob21lTXNnIiwiYnVpbGRDb250ZW50Iiwic2VhcmNoQmFyIiwiYmFyIiwiYWRkU2VhcmNoQmFyIiwiaG9tZUJ0biJdLCJzb3VyY2VSb290IjoiIn0=